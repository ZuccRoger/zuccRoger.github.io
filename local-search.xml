<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>AutowiredVsResourceç§‘æ™®ç¯‡</title>
    <link href="/2022/05/10/AutowiredVsResource%E7%A7%91%E6%99%AE%E7%AF%87/"/>
    <url>/2022/05/10/AutowiredVsResource%E7%A7%91%E6%99%AE%E7%AF%87/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>è¶£å­¦è®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼</title>
    <link href="/2022/05/10/%E8%B6%A3%E5%AD%A6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"/>
    <url>/2022/05/10/%E8%B6%A3%E5%AD%A6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ç»™æŸä¸€ä¸ªå¯¹è±¡æä¾›ä»£ç†ï¼Œå¹¶ä¸”ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„å¼•ç”¨ã€‚æ‰€ä»¥å…¶æ ¸å¿ƒç±»æ˜¯ä»£ç†ç±»ã€‚è¿™ä¸ªè®¾è®¡æ¨¡å¼æ˜¯éå¸¸ç®€å•å¹¶ä¸”å®ç”¨çš„ã€‚</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>ä»¥ä¸‹æ˜¯ä»£ç†æ¨¡å¼çš„ç»“æ„å›¾:</p><p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h245z6x3iij20qy0j6jsh.jpg" alt="image-20220511083422276"></p><h3 id="å…‰è¯´ä¸ç»ƒå‡æŠŠå¼"><a href="#å…‰è¯´ä¸ç»ƒå‡æŠŠå¼" class="headerlink" title="å…‰è¯´ä¸ç»ƒå‡æŠŠå¼"></a>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼</h3><p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h2465u5ms6j210k0i4763.jpg" alt="image-20220511084045384"></p><p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h247hnvs8yj20fy11kmzb.jpg" alt="image-20220511092643311"></p><p>æˆ‘ä»¬ä»¥ä¹¦ä¸Šçš„ç»™çš„ä¾‹å­è¿›è¡Œcodeä¸€æ­¥ä¸€æ­¥æ•²ä»£ç </p><p>ç»™å‡ºäº†è°ƒç”¨è€…Clientçš„ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Client</span> &#123;<br>  <span class="hljs-meta">@Autowired</span> ProxySearcher proxySearcher;<br><br>  <span class="hljs-meta">@RequestMapping(&quot;/proxyMode/test&quot;)</span><br>  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> proxySearcher.doSearch(<span class="hljs-string">&quot;æ¨è¿‡&quot;</span>, <span class="hljs-string">&quot;å°é¾™å¥³&quot;</span>);<br>    <span class="hljs-keyword">return</span> result;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯ä»£ç†å¯¹è±¡çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxySearcher</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Searcher</span> &#123;<br>  <span class="hljs-comment">// ç»´æŒä¸€ä¸ªå¯¹çœŸå®ä¸»é¢˜çš„å¼•ç”¨</span><br>  <span class="hljs-keyword">private</span> <span class="hljs-type">RealSearcher</span> <span class="hljs-variable">searcher</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RealSearcher</span>();<br><br>  <span class="hljs-keyword">private</span> AccessValidator validator;<br><br>  <span class="hljs-keyword">private</span> Logger logger;<br><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">doSearch</span><span class="hljs-params">(String userId, String keyword)</span> &#123;<br>    <span class="hljs-comment">// å¦‚æœèº«ä»½éªŒè¯æˆåŠŸï¼Œåˆ™æ‰§è¡ŒæŸ¥è¯¢</span><br>    <span class="hljs-keyword">if</span> (validate(userId)) &#123;<br>      <span class="hljs-comment">// è°ƒç”¨çœŸå®ä¸»é¢˜å¯¹è±¡çš„æŸ¥è¯¢æ–¹æ³•</span><br>      <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> searcher.doSearch(userId, keyword);<br>      <span class="hljs-comment">// è®°å½•æŸ¥è¯¢æ—¥å¿—</span><br>      <span class="hljs-built_in">this</span>.log(userId);<br>      <span class="hljs-comment">// è¿”å›æŸ¥è¯¢ç»“æœ</span><br>      <span class="hljs-keyword">return</span> result;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>  &#125;<br>  <span class="hljs-comment">// åˆ›å»ºè®¿é—®éªŒè¯å¯¹è±¡å¹¶è°ƒç”¨å…¶validateï¼ˆï¼‰æ–¹æ³•å®ç°èº«ä»½éªŒè¯</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">validate</span><span class="hljs-params">(String userId)</span> &#123;<br>    validator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AccessValidator</span>();<br>    <span class="hljs-keyword">return</span> validator.validate(userId);<br>  &#125;<br><br>  <span class="hljs-comment">// åˆ›å»ºæ—¥å¿—è®°å½•å¯¹è±¡å¹¶è°ƒç”¨logï¼ˆï¼‰æ–¹æ³•å®ç°æ—¥å¿—è®°å½•</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String userId)</span> &#123;<br>    logger = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Logger</span>();<br>    logger.log(userId);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ€åæ˜¯çœŸå®å¯¹è±¡çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RealSearcher</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Searcher</span> &#123;<br>  <span class="hljs-comment">// æ¨¡æ‹ŸæŸ¥è¯¢å•†åŠ¡ä¿¡æ¯</span><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">doSearch</span><span class="hljs-params">(String userId, String keyword)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;ç”¨æˆ·&quot;</span> + userId + <span class="hljs-string">&quot;ä½¿ç”¨å…³é”®è¯&quot;</span> + keyword + <span class="hljs-string">&quot;æŸ¥è¯¢å•†åŠ¡ä¿¡æ¯!&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;è¿”å›å…·ä½“å†…å®¹&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">åœ¨æ•°æ®åº“ä¸­éªŒè¯ç”¨æˆ·æ¨è¿‡æ˜¯å¦æ˜¯åˆæ³•ç”¨æˆ·?<br>æ¨è¿‡ç™»å½•æˆåŠŸï¼<br>ç”¨æˆ·æ¨è¿‡ä½¿ç”¨å…³é”®è¯å°é¾™å¥³æŸ¥è¯¢å•†åŠ¡ä¿¡æ¯!<br>æ›´æ–°æ•°æ®åº“ï¼Œç”¨æˆ·æ¨è¿‡æŸ¥è¯¢æ¬¡æ•°åŠ <span class="hljs-number">1</span>ï¼<br></code></pre></td></tr></table></figure><h4 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h4><p>â€‹ç­‰å¾…æ›´æ–°</p><h4 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h4><ol><li>jdkçš„åŠ¨æ€ä»£ç†<ol><li>åˆ©ç”¨åå°„æœºåˆ¶ç”Ÿæˆä¸€ä¸ªå®ç°ä»£ç†æ¥å£çš„åŒ¿åç±»ï¼Œåœ¨è°ƒç”¨å…·ä½“æ–¹æ³•å‰è°ƒç”¨InvokeHandleræ¥å¤„ç†ã€‚</li></ol></li><li>cglibçš„åŠ¨æ€ä»£ç†<ol><li>æ˜¯åˆ©ç”¨asmçš„å¼€æºåŒ…,å¯¹è¢«ä»£ç†å¯¹è±¡ç±»çš„classæ–‡ä»¶åŠ è½½è¿›æ¥ï¼Œé€šè¿‡ä¿®æ”¹å…¶å­—èŠ‚ç ç”Ÿæˆçš„å­ç±»æ¥å¤„ç†ã€‚</li></ol></li></ol><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><ol><li><p>ä¸šåŠ¡ç³»ç»Ÿçš„éåŠŸèƒ½æ€§éœ€æ±‚å¼€å‘</p><ol><li><p>ç›‘æ§ã€ç»Ÿè®¡ã€é™æµã€äº‹ç‰©ã€å¹‚ã€æ—¥å¿—ã€‚</p></li><li><p><img src="https://tva1.sinaimg.cn/large/e6c9d24ely1h244x3sls5j20ki07qt95.jpg" alt="image-20220511075740524"></p><p>å¦‚å›¾ä¸­ï¼Œå½“ä½ å»æ‰¾ä»£è´­è´­ä¹°å•†å“çš„æ—¶å€™ï¼Œä»£è´­ä½œä¸ºä»£ç†è€…å¯ä»¥å»éªŒè¯ä½ çš„èº«ä»½å¹¶ä¸”æœ‰ç›¸åº”çš„æ—¥å¿—è®°å½•ã€‚è¿™äº›æ˜¯å’Œä¸šåŠ¡ç³»ç»Ÿçš„éåŠŸèƒ½æ€§çš„éœ€æ±‚å¼€å‘ã€‚</p></li></ol></li><li><p>RPCä»¥åŠç¼“å­˜ä¸­</p></li></ol><h3 id="å¥½å¤„"><a href="#å¥½å¤„" class="headerlink" title="å¥½å¤„"></a>å¥½å¤„</h3><p>ä»£ç†æ¨¡å¼å¯ä»¥å»æ‰å®¢æˆ·çœ‹ä¸åˆ°çš„å†…å®¹å’ŒæœåŠ¡æˆ–è€…å¢æ·»é¢å¤–å®¢æˆ·éœ€è¦çš„æœåŠ¡ã€‚</p><h3 id="å’Œè£…é¥°æ¨¡å¼ç›¸æ¯”"><a href="#å’Œè£…é¥°æ¨¡å¼ç›¸æ¯”" class="headerlink" title="å’Œè£…é¥°æ¨¡å¼ç›¸æ¯”"></a>å’Œè£…é¥°æ¨¡å¼ç›¸æ¯”</h3><table><thead><tr><th>ä»£ç†æ¨¡å¼</th><th>è£…é¥°æ¨¡å¼</th></tr></thead><tbody><tr><td>ç»™çœŸå®çš„ç±»å¢åŠ ä¸€äº›å…¨æ–°çš„èŒè´£,æ¯”å¦‚æƒé™æ§åˆ¶,ç¼“å†²å¤„ç†,æ™ºèƒ½å¼•ç”¨,è¿œç¨‹è®¿é—®è¿™äº›å’ŒåŸæœ‰çš„èŒè´£ä¸å±äºåŒä¸€ä¸ªé—®é¢˜åŸŸã€‚</td><td>æ˜¯é€šè¿‡è£…é¥°ç±»ä¸ºå…·ä½“çš„æ„ä»¶ç±»å¢åŠ ä¸€äº›ç›¸å…³çš„èŒè´£ï¼Œæ˜¯å¯¹åŸæœ‰çš„èŒè´£çš„æ‹“å±•ï¼Œè€Œä¸”è¿™äº›èŒè´£æ˜¯å±äºåŒä¸€ä¸ªé—®é¢˜åŸŸçš„ã€‚</td></tr></tbody></table><h3 id="æºç é“¾æ¥ğŸ”—"><a href="#æºç é“¾æ¥ğŸ”—" class="headerlink" title="æºç é“¾æ¥ğŸ”—"></a>æºç é“¾æ¥ğŸ”—</h3><ol><li><a href="https://github1s.com/ZuccRoger/designMode/blob/HEAD/src/main/java/com/roger/designmode/proxyPattern2/Client.java">å•†åŠ¡æŸ¥è¯¢ä»£ç†æ¨¡å¼demo</a></li></ol><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://refactoringguru.cn/design-patterns/proxy">ä»£ç†æ¨¡å¼</a></li><li><a href="https://book.douban.com/subject/20493657/">è®¾è®¡æ¨¡å¼çš„è‰ºæœ¯</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>è®¾è®¡æ¨¡å¼</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer40æœ€å°çš„kä¸ªæ•°</title>
    <link href="/2022/05/10/%E5%89%91%E6%8C%87Offer40%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/"/>
    <url>/2022/05/10/%E5%89%91%E6%8C%87Offer40%E6%9C%80%E5%B0%8F%E7%9A%84k%E4%B8%AA%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h3 id="å±€éƒ¨å¿«æ’"><a href="#å±€éƒ¨å¿«æ’" class="headerlink" title="å±€éƒ¨å¿«æ’"></a>å±€éƒ¨å¿«æ’</h3><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/10 7:36 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span>[] ints = &#123;<br>      <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">213</span>, <span class="hljs-number">12</span>, <span class="hljs-number">312</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">456</span>, <span class="hljs-number">6</span>, <span class="hljs-number">45</span>, <span class="hljs-number">87</span>, <span class="hljs-number">76</span>, <span class="hljs-number">867</span>, <span class="hljs-number">867</span>, <span class="hljs-number">8</span>, <span class="hljs-number">768</span>, <span class="hljs-number">76</span>, <span class="hljs-number">867</span>, <span class="hljs-number">8</span><br>    &#125;;<br>    <span class="hljs-type">int</span>[] kthLargest = getLeastNumbers(ints, <span class="hljs-number">2</span>);<br>    System.out.println(kthLargest);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] getLeastNumbers(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> k) &#123;<br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span> || arr.length == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[] &#123;&#125;;<br>    &#125;<br>    <span class="hljs-comment">// æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸‹æ ‡ä¸ºk-1çš„æ•°</span><br>    quickSearch(arr, <span class="hljs-number">0</span>, arr.length - <span class="hljs-number">1</span>, k - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> Arrays.copyOfRange(arr, <span class="hljs-number">0</span>, k);<br>  &#125;<br><br>  <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] quickSearch(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> lo, <span class="hljs-type">int</span> hi, <span class="hljs-type">int</span> k) &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">calculatedIndex</span> <span class="hljs-operator">=</span> getPartition(nums, lo, hi);<br>    <span class="hljs-keyword">if</span> (calculatedIndex == k) &#123;<br>      <span class="hljs-keyword">return</span> Arrays.copyOfRange(nums, <span class="hljs-number">0</span>, k);<br>    &#125;<br>    <span class="hljs-keyword">return</span> calculatedIndex &gt; k<br>        ? quickSearch(nums, lo, calculatedIndex - <span class="hljs-number">1</span>, k)<br>        : quickSearch(nums, calculatedIndex + <span class="hljs-number">1</span>, hi, k);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getPartition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">splitNumber</span> <span class="hljs-operator">=</span> nums[start];<br>    <span class="hljs-keyword">while</span> (start &lt; end) &#123;<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &lt;= nums[end]) &#123;<br>        end--;<br>      &#125;<br>      swap(nums, start, end);<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &gt;= nums[start]) &#123;<br>        start++;<br>      &#125;<br>      swap(nums, start, end);<br>    &#125;<br>    <span class="hljs-keyword">return</span> start;<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">tmpVal</span> <span class="hljs-operator">=</span> nums[left];<br>    nums[left] = nums[right];<br>    nums[right] = tmpVal;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ç®€å•çš„å¤§æ ¹å †"><a href="#ç®€å•çš„å¤§æ ¹å †" class="headerlink" title="ç®€å•çš„å¤§æ ¹å †"></a>ç®€å•çš„å¤§æ ¹å †</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.roger.leetcodejava.jianzhi.solution_40.å¤§æ ¹å †;<br><br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.util.PriorityQueue;<br><span class="hljs-keyword">import</span> java.util.Queue;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/10 7:54 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span>[] arr = &#123;<br>      <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">213</span>, <span class="hljs-number">12</span>, <span class="hljs-number">312</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">456</span>, <span class="hljs-number">6</span>, <span class="hljs-number">45</span>, <span class="hljs-number">87</span>, <span class="hljs-number">76</span>, <span class="hljs-number">867</span>, <span class="hljs-number">867</span>, <span class="hljs-number">8</span>, <span class="hljs-number">768</span>, <span class="hljs-number">76</span>, <span class="hljs-number">867</span>, <span class="hljs-number">8</span><br>    &#125;;<br>    <span class="hljs-type">int</span>[] leastNumbers = getLeastNumbers(arr, <span class="hljs-number">2</span>);<br>    System.out.println(leastNumbers);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] getLeastNumbers(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> k) &#123;<br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span> || arr.length == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>];<br>    &#125;<br>    <span class="hljs-comment">// é»˜è®¤æ˜¯å°æ ¹å †ï¼Œå®ç°å¤§æ ¹å †éœ€è¦é‡å†™ä¸€ä¸‹æ¯”è¾ƒå™¨ã€‚</span><br>    Queue&lt;Integer&gt; pq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;((v1, v2) -&gt; v2 - v1);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : arr) &#123;<br>      <span class="hljs-keyword">if</span> (pq.size() &lt; k) &#123;<br>        pq.offer(num);<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (num &lt; pq.peek()) &#123;<br>        pq.poll();<br>        pq.offer(num);<br>      &#125;<br>    &#125;<br>    <span class="hljs-type">int</span>[] ints = pq.stream().mapToInt(Integer::intValue).toArray();<br>    <span class="hljs-keyword">return</span> ints;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æºç é“¾æ¥"><a href="#æºç é“¾æ¥" class="headerlink" title="æºç é“¾æ¥"></a>æºç é“¾æ¥</h3><ol><li><a href="https://github1s.com/ZuccRoger/leetcodeJavaMode/blob/HEAD/src/main/java/com/roger/leetcodejava/jianzhi/solution_40/%E5%A4%A7%E6%A0%B9%E5%A0%86/Solution.java">å‰‘æŒ‡offer40</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜:è°ˆè°ˆæ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆåŒºåˆ«</title>
    <link href="/2022/05/09/%E8%B0%88%E8%B0%88%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/"/>
    <url>/2022/05/09/%E8%B0%88%E8%B0%88%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h3 id="å¼‚åŒæ¯”è¾ƒ"><a href="#å¼‚åŒæ¯”è¾ƒ" class="headerlink" title="å¼‚åŒæ¯”è¾ƒ"></a>å¼‚åŒæ¯”è¾ƒ</h3><p>ç›¸åŒ </p><table><thead><tr><th>æ¯”è¾ƒé¡¹</th><th>æŠ½è±¡ç±»</th><th>æ¥å£</th></tr></thead><tbody><tr><td>å®ä¾‹åŒ–</td><td>ä¸èƒ½è¢«å®ä¾‹åŒ–</td><td>ä¸èƒ½è¢«å®ä¾‹åŒ–</td></tr><tr><td>å…è®¸éƒ¨åˆ†å‡½æ•°å®ç°</td><td>å¯ä»¥</td><td>Java8å¼€å§‹æ”¯æŒdefault method.</td></tr></tbody></table><p>å·®å¼‚</p><table><thead><tr><th>æ¯”è¾ƒé¡¹</th><th>æŠ½è±¡ç±»</th><th>æ¥å£</th></tr></thead><tbody><tr><td>ä½¿ç”¨çš„æ—¶æœºå’Œåœºæ™¯</td><td>ä¸»è¦æ˜¯ä»£ç çš„å¤ç”¨,å¼ºè°ƒçš„æ˜¯<strong>æ‰€å±å…³ç³»</strong></td><td>å¯¹ç±»çš„è¡Œä¸ºçš„çº¦æŸ,å®ç°äº†æŸä¸ªæ¥å£å°±æœ‰äº†å¯¹åº”çš„è¡Œä¸º</td></tr><tr><td>æˆå‘˜å˜é‡</td><td>é»˜è®¤æ˜¯default,å¯ä»¥åœ¨å­ç±»ä¸­é‡æ–°è¢«å®šä¹‰,ä¹Ÿå¯ä»¥é‡æ–°èµ‹å€¼</td><td>æˆå‘˜å˜é‡ åªèƒ½æ˜¯public static final .</td></tr><tr><td>æ”¯æŒå¤šé‡ç»§æ‰¿</td><td>ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»</td><td>ä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£</td></tr></tbody></table><h3 id="æºç é“¾æ¥"><a href="#æºç é“¾æ¥" class="headerlink" title="æºç é“¾æ¥"></a>æºç é“¾æ¥</h3><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li>JavaGuide </li><li><a href="https://time.geekbang.org/column/article/8471">ç¬¬13è®² | è°ˆè°ˆæ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜:javaçº¿ç¨‹æ± æ˜¯å¦‚ä½•å®ç°çš„,å®šæ—¶çº¿ç¨‹æ€ä¹ˆåšåˆ°çš„å®šæ—¶è¿è¡Œï¼Ÿ</title>
    <link href="/2022/05/09/%E9%9D%A2%E8%AF%95%E5%AE%98-java%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84-%E5%AE%9A%E6%97%B6%E7%BA%BF%E7%A8%8B%E6%80%8E%E4%B9%88%E5%81%9A%E5%88%B0%E7%9A%84%E5%AE%9A%E6%97%B6%E8%BF%90%E8%A1%8C%EF%BC%9F/"/>
    <url>/2022/05/09/%E9%9D%A2%E8%AF%95%E5%AE%98-java%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84-%E5%AE%9A%E6%97%B6%E7%BA%BF%E7%A8%8B%E6%80%8E%E4%B9%88%E5%81%9A%E5%88%B0%E7%9A%84%E5%AE%9A%E6%97%B6%E8%BF%90%E8%A1%8C%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜:è¯·ä»‹ç»ä¸€äº›ç±»åŠ è½½,åŒäº²å§”æ´¾æ¨¡å‹</title>
    <link href="/2022/05/09/%E9%9D%A2%E8%AF%95%E5%AE%98-%E8%AF%B7%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%BA%9B%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/05/09/%E9%9D%A2%E8%AF%95%E5%AE%98-%E8%AF%B7%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%BA%9B%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h3 id="ç±»åŠ è½½è¿‡ç¨‹"><a href="#ç±»åŠ è½½è¿‡ç¨‹" class="headerlink" title="ç±»åŠ è½½è¿‡ç¨‹"></a>ç±»åŠ è½½è¿‡ç¨‹</h3><p>ç±»åŠ è½½çš„è¿‡ç¨‹åˆ†ä¸ºåŠ è½½ã€é“¾æ¥å’Œåˆå§‹åŒ–ã€‚</p><h4 id="åŠ è½½é˜¶æ®µ"><a href="#åŠ è½½é˜¶æ®µ" class="headerlink" title="åŠ è½½é˜¶æ®µ"></a>åŠ è½½é˜¶æ®µ</h4><p>Javaå°†å­—èŠ‚ç ä»ä¸åŒçš„æ•°æ®æºè¯»å–åˆ°JVMä¸­ï¼Œå¹¶æ˜ å°„ä¸ºJVMè®¤å¯çš„æ•°æ®ç»“æ„(Classå¯¹è±¡),è¿™é‡Œçš„æ•°æ®æºå¯ä»¥æ˜¯å„ç§å„æ ·å½¢æ€çš„ï¼Œæ¯”å¦‚jaræ–‡ä»¶ã€classæ–‡ä»¶,ç”šè‡³æ˜¯ç½‘ç»œæ•°æ®æºï¼Œå¦‚æœè¾“å…¥æ•°æ®ä¸æ˜¯ClassFileçš„ç»“æ„ï¼Œåˆ™ä¼šæŠ›å‡ºClassFormatError.</p><h4 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h4><p>ç®€å•æ¥è¯´å°±æ˜¯å°†å®šä¹‰çš„ç±»ä¿¡æ¯å¹³æ»‘åœ°è½¬å…¥åˆ°JVMçš„è¿è¡Œè¿‡ç¨‹ä¸­.</p><h5 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h5><p>è¿™ä¸ªæ˜¯è™šæ‹Ÿæœºå®‰å…¨çš„ä¿éšœ,JVMéœ€è¦æ ¸éªŒä¸€ä¸‹å­—èŠ‚ä¿¡æ¯æ˜¯å¦ç¬¦åˆJVMçš„è§„èŒƒ,å¦åˆ™å°±ä¼šè¢«è®¤å®šä¸º<strong>VerifyError</strong>ï¼Œè¿™æ ·å°±é˜²æ­¢äº†æ¶æ„ä¿¡æ¯å±å®³JVMçš„è¿è¡Œï¼ŒéªŒè¯é˜¶æ®µå¯èƒ½ä¼šè§¦å‘æ›´å¤šçš„classåŠ è½½ã€‚</p><h5 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h5><p>åˆ›å»ºç±»æˆ–è€…æ¥å£ä¸­çš„é™æ€å˜é‡ï¼Œå¹¶ä¸”åˆå§‹åŒ–é™æ€å˜é‡ï¼ˆä¾§é‡åœ¨å†…å­˜ç©ºé—´çš„åˆ†é…ä¸Šï¼‰</p><h5 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h5><p>ä¼šå°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨</p><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>çœŸæ­£åœ°å»æ‰§è¡Œç±»çš„åˆå§‹åŒ–ä»£ç é€»è¾‘ï¼ŒåŒ…æ‹¬é™æ€å­—æ®µçš„èµ‹å€¼ï¼Œä»¥åŠæ‰§è¡Œç±»å®šä¹‰ä¸­çš„é™æ€åˆå§‹åŒ–å—å†…çš„é€»è¾‘ã€‚</p><h3 id="åŒäº²å§”æ´¾"><a href="#åŒäº²å§”æ´¾" class="headerlink" title="åŒäº²å§”æ´¾"></a>åŒäº²å§”æ´¾</h3><p>å°±æ˜¯è¯´ç±»åŠ è½½å™¨è¯•å›¾åŠ è½½æŸä¸ªç±»å‹çš„æ—¶å€™ï¼Œé™¤éçˆ¶ç±»å‹æ‰¾ä¸åˆ°ç›¸åº”çš„ç±»å‹ï¼Œå¦åˆ™å°½é‡å°†è¿™ä¸ªä»»åŠ¡ä»£ç†ç»™å½“å‰åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨å»åšã€‚ä½¿ç”¨å§”æ´¾æ¨¡å¼çš„ç›®çš„æ˜¯ä¸ºäº†é¿å…é‡å¤åŠ è½½Javaç±»å‹ã€‚</p><h3 id="ç±»åŠ è½½æœºåˆ¶çš„3ä¸ªåŸºæœ¬ç‰¹å¾"><a href="#ç±»åŠ è½½æœºåˆ¶çš„3ä¸ªåŸºæœ¬ç‰¹å¾" class="headerlink" title="ç±»åŠ è½½æœºåˆ¶çš„3ä¸ªåŸºæœ¬ç‰¹å¾"></a>ç±»åŠ è½½æœºåˆ¶çš„3ä¸ªåŸºæœ¬ç‰¹å¾</h3><ol><li>åŒäº²å§”æ´¾æ¨¡å‹</li><li>å¯è§è¡Œ</li><li>å•ä¸€æ€§</li></ol><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://time.geekbang.org/column/article/9946">è¯·ä»‹ç»ç±»åŠ è½½è¿‡ç¨‹ï¼Œä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡OfferII076æ•°ç»„ä¸­çš„ç¬¬kå¤§çš„æ•°å­—</title>
    <link href="/2022/05/09/%E5%89%91%E6%8C%87OfferII076%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%AC%ACk%E5%A4%A7%E7%9A%84%E6%95%B0%E5%AD%97/"/>
    <url>/2022/05/09/%E5%89%91%E6%8C%87OfferII076%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E7%AC%ACk%E5%A4%A7%E7%9A%84%E6%95%B0%E5%AD%97/</url>
    
    <content type="html"><![CDATA[<h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><h5 id="å…¨é‡å¿«æ’"><a href="#å…¨é‡å¿«æ’" class="headerlink" title="å…¨é‡å¿«æ’"></a>å…¨é‡å¿«æ’</h5><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/9 7:37 AM</span><br><span class="hljs-comment"> *     &lt;p&gt;è¿è¡Œç»“æœ</span><br><span class="hljs-comment"> *     &lt;p&gt;æ‰§è¡Œç”¨æ—¶ï¼š 31 ms , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 8.13% çš„ç”¨æˆ·</span><br><span class="hljs-comment"> *     &lt;p&gt;å†…å­˜æ¶ˆè€—ï¼š 41.6 MB , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 32.63% çš„ç”¨æˆ·</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span>[] ints = &#123;<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>&#125;;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">kthLargest</span> <span class="hljs-operator">=</span> findKthLargest(ints, <span class="hljs-number">2</span>);<br>    System.out.println(kthLargest);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findKthLargest</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> k)</span> &#123;<br>    quickSort(nums, <span class="hljs-number">0</span>, nums.length - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> nums[k - <span class="hljs-number">1</span>];<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quickSort</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-keyword">if</span> (start &lt; end) &#123;<br>      <span class="hljs-type">int</span> <span class="hljs-variable">partition</span> <span class="hljs-operator">=</span> getPartition(nums, start, end);<br>      quickSort(nums, partition + <span class="hljs-number">1</span>, end);<br>      quickSort(nums, start, partition - <span class="hljs-number">1</span>);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getPartition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">splitNumber</span> <span class="hljs-operator">=</span> nums[start];<br>    <span class="hljs-keyword">while</span> (start &lt; end) &#123;<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &gt;= nums[end]) &#123;<br>        end--;<br>      &#125;<br>      swap(nums, start, end);<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &lt;= nums[start]) &#123;<br>        start++;<br>      &#125;<br>      swap(nums, start, end);<br>    &#125;<br>    <span class="hljs-keyword">return</span> start;<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">tmpVal</span> <span class="hljs-operator">=</span> nums[left];<br>    nums[left] = nums[right];<br>    nums[right] = tmpVal;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h5 id="å±€éƒ¨å¿«æ’"><a href="#å±€éƒ¨å¿«æ’" class="headerlink" title="å±€éƒ¨å¿«æ’"></a>å±€éƒ¨å¿«æ’</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs Java"><br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/9 9:21 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span>[] ints = &#123;<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>&#125;;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">kthLargest</span> <span class="hljs-operator">=</span> findKthLargest(ints, <span class="hljs-number">2</span>);<br>    System.out.println(kthLargest);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findKthLargest</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> k)</span> &#123;<br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span> || arr.length == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-comment">// æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸‹æ ‡ä¸ºk-1çš„æ•°</span><br>    <span class="hljs-type">int</span>[] ints = quickSearch(arr, <span class="hljs-number">0</span>, arr.length - <span class="hljs-number">1</span>, k - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ints[k - <span class="hljs-number">1</span>];<br>  &#125;<br><br>  <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] quickSearch(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> lo, <span class="hljs-type">int</span> hi, <span class="hljs-type">int</span> k) &#123;<br>    <span class="hljs-comment">// æ¯å¿«æ’åˆ‡åˆ†1æ¬¡ï¼Œæ‰¾åˆ°æ’åºåä¸‹æ ‡ä¸ºjçš„å…ƒç´ ï¼Œå¦‚æœjæ°å¥½ç­‰äºkå°±è¿”å›jä»¥åŠjå·¦è¾¹æ‰€æœ‰çš„æ•°ï¼›</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> getPartition(nums, lo, hi);<br>    <span class="hljs-keyword">if</span> (j == k) &#123;<br>      <span class="hljs-keyword">return</span> Arrays.copyOf(nums, j + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-comment">// å¦åˆ™æ ¹æ®ä¸‹æ ‡jä¸kçš„å¤§å°å…³ç³»æ¥å†³å®šç»§ç»­åˆ‡åˆ†å·¦æ®µè¿˜æ˜¯å³æ®µã€‚</span><br>    <span class="hljs-keyword">return</span> j &gt; k ? quickSearch(nums, lo, j - <span class="hljs-number">1</span>, k) : quickSearch(nums, j + <span class="hljs-number">1</span>, hi, k);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getPartition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">splitNumber</span> <span class="hljs-operator">=</span> nums[start];<br>    <span class="hljs-keyword">while</span> (start &lt; end) &#123;<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &gt;= nums[end]) &#123;<br>        end--;<br>      &#125;<br>      swap(nums, start, end);<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &lt;= nums[start]) &#123;<br>        start++;<br>      &#125;<br>      swap(nums, start, end);<br>    &#125;<br>    <span class="hljs-keyword">return</span> start;<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">tmpVal</span> <span class="hljs-operator">=</span> nums[left];<br>    nums[left] = nums[right];<br>    nums[right] = tmpVal;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ’åºç®—æ³•æ€»ç»“</title>
    <link href="/2022/05/09/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <url>/2022/05/09/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><p>javaä¸­æä¾›çš„Arrays.sortæ–¹æ³•å¯¹äºåŸºç¡€ç±»å‹çš„æ’åºçš„åº•å±‚å®ç°å°±æ˜¯é‡‡ç”¨çš„å¿«é€Ÿæ’åºæ–¹æ³•.</p> <figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/9 7:48 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">QuickSort</span> &#123;<br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">int</span> array[] = &#123;<span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">14</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>&#125;;<br>    System.out.println(<span class="hljs-string">&quot;æ’åºå‰åºåˆ—ä¸ºï¼š&quot;</span>);<br>    printArray(array);<br>    quickSort(array, <span class="hljs-number">0</span>, array.length - <span class="hljs-number">1</span>);<br>    System.out.println(<span class="hljs-string">&quot;æ’åºååºåˆ—ä¸ºï¼š&quot;</span>);<br>    printArray(array);<br>  &#125;<br><br>  <span class="hljs-comment">// å¿«é€Ÿæ’åºç®—æ³•</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quickSort</span><span class="hljs-params">(<span class="hljs-type">int</span> array[], <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-keyword">if</span> (start &lt; end) &#123;<br>      <span class="hljs-type">int</span> <span class="hljs-variable">partition</span> <span class="hljs-operator">=</span> partition(array, start, end);<br>      <span class="hljs-comment">/**</span><br><span class="hljs-comment">       * æ³¨æ„ï¼š è¿™è¦+1 å’Œ -1</span><br><span class="hljs-comment">       *</span><br><span class="hljs-comment">       * &lt;p&gt;å› ä¸ºæˆ‘ä»¬çš„åˆå§‹åŒ–splitNumber çš„å€¼æ˜¯ array[start] æ‰€ä»¥è¿™ä¸ªstartç‰¹åˆ«å…³é”®.</span><br><span class="hljs-comment">       *</span><br><span class="hljs-comment">       * &lt;p&gt;å¦‚æœæˆ‘ä»¬æ¯æ¬¡startä¸€æ ·çš„è¯ï¼Œå°±æ— æ³•å°±è¡Œ åŒºåˆ† å·¦å³ã€‚ å¯¹ partition;</span><br><span class="hljs-comment">       */</span><br>      quickSort(array, partition + <span class="hljs-number">1</span>, end);<br>      quickSort(array, start, partition - <span class="hljs-number">1</span>);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">/** åˆ†åŒºæ“ä½œ */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">partition</span><span class="hljs-params">(<span class="hljs-type">int</span> array[], <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">splitNumber</span> <span class="hljs-operator">=</span> array[start];<br>    <span class="hljs-keyword">while</span> (start &lt; end) &#123;<br>      <span class="hljs-comment">/** æ³¨æ„è¿™é‡Œæ˜¯&lt;= å¦åˆ™ä¼šé€ æˆæ­»å¾ªç¯ */</span><br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &lt;= array[end]) &#123;<br>        end--;<br>      &#125;<br>      swap(array, start, end);<br>      <span class="hljs-comment">/** æ³¨æ„è¿™é‡Œæ˜¯&gt;= */</span><br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &gt;= array[start]) &#123;<br>        start++;<br>      &#125;<br>      swap(array, start, end);<br>    &#125;<br>    <span class="hljs-keyword">return</span> start;<br>  &#125;<br><br>  <span class="hljs-comment">// äº¤æ¢åºåˆ—ä¸­å…ƒç´ </span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span> array[], <span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">temp</span> <span class="hljs-operator">=</span> array[i];<br>    array[i] = array[j];<br>    array[j] = temp;<br>  &#125;<br><br>  <span class="hljs-comment">// æ‰“å°åºåˆ—ä¸­å…ƒç´ </span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printArray</span><span class="hljs-params">(<span class="hljs-type">int</span> array[])</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> array.length;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>      <span class="hljs-keyword">if</span> (i != length - <span class="hljs-number">1</span>) &#123;<br>        System.out.print(array[i] + <span class="hljs-string">&quot; &quot;</span>);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        System.out.println(array[i]);<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>topK</title>
    <link href="/2022/05/08/topK/"/>
    <url>/2022/05/08/topK/</url>
    
    <content type="html"><![CDATA[<h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯:"></a>è§£é¢˜æ€è·¯:</h3><h4 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h4><h5 id="å…¨é‡æ’åº"><a href="#å…¨é‡æ’åº" class="headerlink" title="å…¨é‡æ’åº"></a>å…¨é‡æ’åº</h5><p>ä½†æ˜¯ç»“æœå‘ç°æ•ˆç‡ä¸é«˜</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/9 7:37 AM</span><br><span class="hljs-comment"> *     &lt;p&gt;è¿è¡Œç»“æœ</span><br><span class="hljs-comment"> *     &lt;p&gt;æ‰§è¡Œç”¨æ—¶ï¼š 31 ms , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 8.13% çš„ç”¨æˆ·</span><br><span class="hljs-comment"> *     &lt;p&gt;å†…å­˜æ¶ˆè€—ï¼š 41.6 MB , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 32.63% çš„ç”¨æˆ·</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span>[] ints = &#123;<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>&#125;;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">kthLargest</span> <span class="hljs-operator">=</span> findKthLargest(ints, <span class="hljs-number">2</span>);<br>    System.out.println(kthLargest);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">findKthLargest</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> k)</span> &#123;<br>    quickSort(nums, <span class="hljs-number">0</span>, nums.length - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> nums[k - <span class="hljs-number">1</span>];<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">quickSort</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-keyword">if</span> (start &lt; end) &#123;<br>      <span class="hljs-type">int</span> <span class="hljs-variable">partition</span> <span class="hljs-operator">=</span> getPartition(nums, start, end);<br>      quickSort(nums, partition + <span class="hljs-number">1</span>, end);<br>      quickSort(nums, start, partition - <span class="hljs-number">1</span>);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getPartition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">splitNumber</span> <span class="hljs-operator">=</span> nums[start];<br>    <span class="hljs-keyword">while</span> (start &lt; end) &#123;<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &gt;= nums[end]) &#123;<br>        end--;<br>      &#125;<br>      swap(nums, start, end);<br>      <span class="hljs-keyword">while</span> (start &lt; end &amp;&amp; splitNumber &lt;= nums[start]) &#123;<br>        start++;<br>      &#125;<br>      swap(nums, start, end);<br>    &#125;<br>    <span class="hljs-keyword">return</span> start;<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> &#123;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">tmpVal</span> <span class="hljs-operator">=</span> nums[left];<br>    nums[left] = nums[right];<br>    nums[right] = tmpVal;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>æ‰¾å‰ K å¤§&#x2F;å‰ K å°é—®é¢˜ä¸éœ€è¦å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œ O(NlogN)<em>O</em>(<em>N<strong>l</strong>o<strong>g</strong>N</em>) çš„æ’åºï¼</p><h5 id="å±€éƒ¨å¿«æ’"><a href="#å±€éƒ¨å¿«æ’" class="headerlink" title="å±€éƒ¨å¿«æ’"></a>å±€éƒ¨å¿«æ’</h5><p>æ€æƒ³ï¼šå¿«æ’çš„æ¯ä¸€æ¬¡partitionè¿”å›çš„æ˜¯ä¸€ä¸ªä¸‹æ ‡ï¼Œè¿™ä¸ªä¸‹æ ‡å·¦è¾¹æ‰€æœ‰çš„å…ƒç´ å°äºä¸‹æ ‡å…ƒç´ ï¼Œå³è¾¹çš„å¤§äºä¸‹æ ‡å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦åœ¨é€’å½’æ—¶æ‰¾åˆ°ä¸‹æ ‡ä¸ºkçš„å°±èƒ½ç›´æ¥è¿”å›äº†ï¼Œå¦‚æœä¸‹æ ‡å¤§äºkï¼Œé‚£ä¹ˆé€’å½’å·¦è¾¹ï¼Œå¦‚æœä¸‹æ ‡å°äºkï¼Œé‚£ä¹ˆé€’å½’å³è¾¹ï¼› æœ€åæ—¶é—´å¤æ‚åº¦æ˜¯O(NÂ²)ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(N)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] getLeastNumbers(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> k) &#123;<br>        <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span> || arr.length == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>];<br>        &#125;<br>        <span class="hljs-comment">// æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸‹æ ‡ä¸ºk-1çš„æ•°</span><br>        <span class="hljs-keyword">return</span> quickSearch(arr, <span class="hljs-number">0</span>, arr.length - <span class="hljs-number">1</span>, k - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span>[] quickSearch(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> lo, <span class="hljs-type">int</span> hi, <span class="hljs-type">int</span> k) &#123;<br>        <span class="hljs-comment">// æ¯å¿«æ’åˆ‡åˆ†1æ¬¡ï¼Œæ‰¾åˆ°æ’åºåä¸‹æ ‡ä¸ºjçš„å…ƒç´ ï¼Œå¦‚æœjæ°å¥½ç­‰äºkå°±è¿”å›jä»¥åŠjå·¦è¾¹æ‰€æœ‰çš„æ•°ï¼›</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> partition(nums, lo, hi);<br>        <span class="hljs-keyword">if</span> (j == k) &#123;<br>            <span class="hljs-keyword">return</span> Arrays.copyOf(nums, j + <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-comment">// å¦åˆ™æ ¹æ®ä¸‹æ ‡jä¸kçš„å¤§å°å…³ç³»æ¥å†³å®šç»§ç»­åˆ‡åˆ†å·¦æ®µè¿˜æ˜¯å³æ®µã€‚</span><br>        <span class="hljs-keyword">return</span> j &gt; k? quickSearch(nums, lo, j - <span class="hljs-number">1</span>, k): quickSearch(nums, j + <span class="hljs-number">1</span>, hi, k);<br>    &#125;<br><br>    <span class="hljs-comment">// å¿«æ’åˆ‡åˆ†ï¼Œè¿”å›ä¸‹æ ‡jï¼Œä½¿å¾—æ¯”nums[j]å°çš„æ•°éƒ½åœ¨jçš„å·¦è¾¹ï¼Œæ¯”nums[j]å¤§çš„æ•°éƒ½åœ¨jçš„å³è¾¹ã€‚</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">partition</span><span class="hljs-params">(<span class="hljs-type">int</span>[] nums, <span class="hljs-type">int</span> lo, <span class="hljs-type">int</span> hi)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> nums[lo];<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> lo, j = hi + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-keyword">while</span> (++i &lt;= hi &amp;&amp; nums[i] &lt; v);<br>            <span class="hljs-keyword">while</span> (--j &gt;= lo &amp;&amp; nums[j] &gt; v);<br>            <span class="hljs-keyword">if</span> (i &gt;= j) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> nums[j];<br>            nums[j] = nums[i];<br>            nums[i] = t;<br>        &#125;<br>        nums[lo] = nums[j];<br>        nums[j] = v;<br>        <span class="hljs-keyword">return</span> j;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h4><p><a href="https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/solution/3chong-jie-fa-miao-sha-topkkuai-pai-dui-er-cha-sou/#%E4%BA%8C%E3%80%81%E5%A4%A7%E6%A0%B9%E5%A0%86%E5%89%8D-k-%E5%B0%8F-/-%E5%B0%8F%E6%A0%B9%E5%A0%86%EF%BC%88%E5%89%8D-k-%E5%A4%A7,java%E4%B8%AD%E6%9C%89%E7%8E%B0%E6%88%90%E7%9A%84-priorityqueue%EF%BC%8C%E5%AE%9E%E7%8E%B0%E8%B5%B7%E6%9D%A5%E6%9C%80%E7%AE%80%E5%8D%95%EF%BC%9A">å¤§æ ¹å †(å‰ K å°) &#x2F; å°æ ¹å †ï¼ˆå‰ K å¤§),Javaä¸­æœ‰ç°æˆçš„ PriorityQueueï¼Œå®ç°èµ·æ¥æœ€ç®€å•ï¼š</a></p><p>å‰ç½®çŸ¥è¯†é“ºå«ï¼š</p><p>PriorityQueue<code>å’Œ</code>Queue<code>çš„åŒºåˆ«åœ¨äºï¼Œå®ƒçš„å‡ºé˜Ÿé¡ºåºä¸å…ƒç´ çš„ä¼˜å…ˆçº§æœ‰å…³ï¼Œå¯¹</code>PriorityQueue<code>è°ƒç”¨</code>remove()<code>æˆ–</code>poll()&#96;æ–¹æ³•ï¼Œè¿”å›çš„æ€»æ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ã€‚</p><p>è¿™ä¸ªä»£ç å¯ä»¥è¯´æ˜¯å·¨ç®€å•äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">int</span>[] arr = &#123;<br>      <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">213</span>, <span class="hljs-number">12</span>, <span class="hljs-number">312</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">456</span>, <span class="hljs-number">6</span>, <span class="hljs-number">45</span>, <span class="hljs-number">87</span>, <span class="hljs-number">76</span>, <span class="hljs-number">867</span>, <span class="hljs-number">867</span>, <span class="hljs-number">8</span>, <span class="hljs-number">768</span>, <span class="hljs-number">76</span>, <span class="hljs-number">867</span>, <span class="hljs-number">8</span><br>    &#125;;<br>    <span class="hljs-type">int</span>[] leastNumbers = getLeastNumbers(arr, <span class="hljs-number">2</span>);<br>    System.out.println(leastNumbers);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] getLeastNumbers(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> k) &#123;<br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span> || arr.length == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>];<br>    &#125;<br>    <span class="hljs-comment">// é»˜è®¤æ˜¯å°æ ¹å †ï¼Œå®ç°å¤§æ ¹å †éœ€è¦é‡å†™ä¸€ä¸‹æ¯”è¾ƒå™¨ã€‚</span><br>    Queue&lt;Integer&gt; pq = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PriorityQueue</span>&lt;&gt;((v1, v2) -&gt; v2 - v1);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : arr) &#123;<br>      <span class="hljs-keyword">if</span> (pq.size() &lt; k) &#123;<br>        pq.offer(num);<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (num &lt; pq.peek()) &#123;<br>        pq.poll();<br>        pq.offer(num);<br>      &#125;<br>    &#125;<br>    <span class="hljs-type">int</span>[] ints = pq.stream().mapToInt(Integer::intValue).toArray();<br>    <span class="hljs-keyword">return</span> ints;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a>äºŒå‰æœç´¢æ ‘</h4><p> <a href="https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/solution/3chong-jie-fa-miao-sha-topkkuai-pai-dui-er-cha-sou">äºŒå‰æœç´¢æ ‘ä¹Ÿå¯ä»¥ è§£å†³ TopK é—®é¢˜</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ç­‰å¾…è¡¥å……<br></code></pre></td></tr></table></figure><h4 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h4><p> <a href="https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/solution/3chong-jie-fa-miao-sha-topkkuai-pai-dui-er-cha-sou/#%E5%9B%9B%E3%80%81%E6%95%B0%E6%8D%AE%E8%8C%83%E5%9B%B4%E6%9C%89%E9%99%90%E6%97%B6%E7%9B%B4%E6%8E%A5%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F%E5%B0%B1%E8%A1%8C%E4%BA%86%EF%BC%9A">æ•°æ®èŒƒå›´æœ‰é™æ—¶ç›´æ¥è®¡æ•°æ’åºå°±è¡Œäº†</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ç­‰å¾…è¡¥å……<br></code></pre></td></tr></table></figure><h3 id="é¢˜ç›®é“¾æ¥"><a href="#é¢˜ç›®é“¾æ¥" class="headerlink" title="é¢˜ç›®é“¾æ¥"></a>é¢˜ç›®é“¾æ¥</h3><ol><li><a href="https://leetcode-cn.com/problems/kth-largest-element-in-an-array/">215. æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </a></li></ol><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/solution/3chong-jie-fa-miao-sha-topkkuai-pai-dui-er-cha-sou/">4ç§è§£æ³•ç§’æ€TopKï¼ˆå¿«æ’&#x2F;å †&#x2F;äºŒå‰æœç´¢æ ‘&#x2F;è®¡æ•°æ’åºï¼‰â¤ï¸</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>topk</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer26.æ ‘çš„å­ç»“æ„</title>
    <link href="/2022/05/08/%E5%89%91%E6%8C%87Offer26-%E6%A0%91%E7%9A%84%E5%AD%90%E7%BB%93%E6%9E%84/"/>
    <url>/2022/05/08/%E5%89%91%E6%8C%87Offer26-%E6%A0%91%E7%9A%84%E5%AD%90%E7%BB%93%E6%9E%84/</url>
    
    <content type="html"><![CDATA[<h4 id="å‰‘æŒ‡-Offer-26-æ ‘çš„å­ç»“æ„"><a href="#å‰‘æŒ‡-Offer-26-æ ‘çš„å­ç»“æ„" class="headerlink" title="å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„"></a><a href="https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/">å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„</a></h4><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs java">æ‰§è¡Œç”¨æ—¶ï¼š<span class="hljs-number">0</span> ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†<span class="hljs-number">100.00</span>%çš„ç”¨æˆ·<br>å†…å­˜æ¶ˆè€—ï¼š<span class="hljs-number">43.9</span> MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†<span class="hljs-number">9.74</span>%çš„ç”¨æˆ·<br></code></pre></td></tr></table></figure><p>å› ä¸ºä½¿ç”¨çš„æ˜¯dfsæ‰€ä»¥æ•´ä¸€ä¸ªå†…å­˜çš„å¼€é”€æ¯”è¾ƒå¤§ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> com.roger.leetcodejava.TreeNode;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/8 10:53 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-comment">/** çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„ */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isSubStructure</span><span class="hljs-params">(TreeNode A, TreeNode B)</span> &#123;<br>    <span class="hljs-keyword">if</span> (A == <span class="hljs-literal">null</span> || B == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dfs(A, B) || isSubStructure(A.left, B) || isSubStructure(A.right, B);<br>  &#125;<br><br>  <span class="hljs-comment">/** ä»¥ä¸‹ä»£ç å¤ªç²¾é«“äº†! */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(TreeNode A, TreeNode B)</span> &#123;<br>    <span class="hljs-keyword">if</span> (B == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (A == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ³¨æ„ï¼:</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * &lt;p&gt;1. è¿™é‡Œæ˜¯&amp;&amp; è€Œä¸æ˜¯ ||</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * &lt;p&gt;2. ç„¶åæ˜¯å·¦å³å­æ ‘åˆ†åˆ«å»è¿›è¡Œæ¯”å¯¹ã€‚</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">return</span> A.val == B.val &amp;&amp; dfs(A.left, B.left) &amp;&amp; dfs(A.right, B.right);<br>  &#125;<br><br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeA</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">3</span>);<br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeB</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">4</span>);<br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeC</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">5</span>);<br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeD</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">2</span>);<br>    treeNodeA.left = treeNodeB;<br>    treeNodeA.right = treeNodeC;<br>    treeNodeB.left = treeNodeD;<br>    treeNodeB.right = treeNodeE;<br><br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeF</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">4</span>);<br>    <span class="hljs-type">TreeNode</span> <span class="hljs-variable">treeNodeG</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(<span class="hljs-number">1</span>);<br>    treeNodeF.left = treeNodeG;<br><br>    System.out.println(isSubStructure(treeNodeA, treeNodeF));<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer16.æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</title>
    <link href="/2022/05/07/%E5%89%91%E6%8C%87Offer16-%E6%95%B0%E5%80%BC%E7%9A%84%E6%95%B4%E6%95%B0%E6%AC%A1%E6%96%B9/"/>
    <url>/2022/05/07/%E5%89%91%E6%8C%87Offer16-%E6%95%B0%E5%80%BC%E7%9A%84%E6%95%B4%E6%95%B0%E6%AC%A1%E6%96%B9/</url>
    
    <content type="html"><![CDATA[<h4 id="å‰‘æŒ‡-Offer-16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹"><a href="#å‰‘æŒ‡-Offer-16-æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹" class="headerlink" title="å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹"></a><a href="https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/">å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹</a></h4><p>è§£å†³æ–¹æ¡ˆ1: é€’å½’æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">package</span> com.roger.leetcodejava.jianzhi.solution_16.logNçš„è§£æ³•;<br><br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/7 7:56 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(myPow(<span class="hljs-number">0.44528</span>, <span class="hljs-number">0</span>));<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å› ä¸º x^72æ¬¡ = x^36 * x ^ 36 æ‰€ä»¥æ˜¯ä¸€ä¸ªé€’å½’çš„è§£å†³æ–¹æ¡ˆ.</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * &lt;p&gt;ç„¶åæˆ‘ä»¬é€šè¿‡å¥‡ å’Œ å¶ è¿›è¡Œé€’å½’.</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">myPow</span><span class="hljs-params">(<span class="hljs-type">double</span> x, <span class="hljs-type">int</span> n)</span> &#123;<br>        <span class="hljs-comment">/** å¤„ç†å¼‚å¸¸case */</span><br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> n;<br>        <span class="hljs-keyword">return</span> N &gt;= <span class="hljs-number">0</span> ? quickMul(x, N) : <span class="hljs-number">1.0</span> / quickMul(x, -N);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">quickMul</span><span class="hljs-params">(<span class="hljs-type">double</span> x, <span class="hljs-type">long</span> N)</span> &#123;<br>        <span class="hljs-keyword">if</span> (N == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> x;<br>        &#125;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> quickMul(x, N / <span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">return</span> N % <span class="hljs-number">2</span> == <span class="hljs-number">1</span> ? result * result * x : result * result;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å¼Šç«¯:</p><ol><li>å› ä¸ºä½¿ç”¨é€’å½’å…¶å®æ˜¯ä¼šä½¿ç”¨é¢å¤–çš„æ ˆç©ºé—´ã€‚</li></ol><p>è§£å†³æ–¹æ³•äºŒ: è¿­ä»£æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">package</span> com.roger.leetcodejava.jianzhi.solution_16.è¿­ä»£;<br><br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/8 9:07 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-comment">/**</span><br><span class="hljs-comment">   * å®ç° ç±»ä¼¼ Math.powå‡½æ•° è¿™ä¸ªé€’å½’æä¸æ˜ç™½å“­</span><br><span class="hljs-comment">   *</span><br><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> x</span><br><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> n</span><br><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">myPow</span><span class="hljs-params">(<span class="hljs-type">double</span> x, <span class="hljs-type">int</span> n)</span> &#123;<br>    <span class="hljs-comment">/** å¼‚å¸¸caseåˆ¤æ–­ */</span><br>    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-type">double</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-type">double</span> <span class="hljs-variable">currentMul</span> <span class="hljs-operator">=</span> x;<br>    <span class="hljs-keyword">while</span> (n &gt; <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-comment">/* ä¸ªäººè¿™åœ°æ–¹ç†è§£éš¾ */</span> <br>        result *= currentMul;<br>      &#125;<br>      currentMul *= currentMul;<br>      n = n &gt;&gt; <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>  &#125;<br><br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    System.out.println(myPow(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>));<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸ªäººæ„Ÿè§‰è¿™ä¸ªè¿­ä»£æ¯”è¾ƒéš¾ç†è§£ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜:åŠ¨æ€ä»£ç†æ˜¯åŸºäºä»€ä¹ˆåŸç†</title>
    <link href="/2022/05/06/%E9%9D%A2%E8%AF%95%E5%AE%98-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%98%AF%E5%9F%BA%E4%BA%8E%E4%BB%80%E4%B9%88%E5%8E%9F%E7%90%86/"/>
    <url>/2022/05/06/%E9%9D%A2%E8%AF%95%E5%AE%98-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%98%AF%E5%9F%BA%E4%BA%8E%E4%BB%80%E4%B9%88%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯åå°„"><a href="#ä»€ä¹ˆæ˜¯åå°„" class="headerlink" title="ä»€ä¹ˆæ˜¯åå°„"></a>ä»€ä¹ˆæ˜¯åå°„</h3>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜:Stringã€StringBufferã€StringBuilderæœ‰ä»€ä¹ˆåŒºåˆ«</title>
    <link href="/2022/05/06/%E9%9D%A2%E8%AF%95%E5%AE%98-String%E3%80%81StringBuffer%E3%80%81StringBuilder%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/"/>
    <url>/2022/05/06/%E9%9D%A2%E8%AF%95%E5%AE%98-String%E3%80%81StringBuffer%E3%80%81StringBuilder%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h3 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h3><table><thead><tr><th>ç±»å‹</th><th>ç‰¹ç‚¹</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>String</td><td>æ˜¯<strong>Immutable</strong>çš„,ç„¶åå®ƒçš„ç±»åæ˜¯finalä¿®é¥°çš„,å±æ€§éƒ½æ˜¯final. ç„¶åå› ä¸ºæˆ‘ä»¬ç»å¸¸è¦å»æ“ä½œæ¯”å¦‚ä¿®æ”¹æˆ–è€…å¢åŠ Stringçš„å†…å®¹æ‰€ä»¥æˆ‘ä»¬ä¼šç”¨åˆ°ä¸‹é¢ä»‹ç»çš„StringBufferä»¥åŠStringBuilder.</td><td>1. å¸¸é‡çš„å£°æ˜ <br />2.<strong>å°‘é‡</strong>å­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œä¸€å®šè¦é¿å…ä½¿ç”¨+æ“ä½œå»æ‹¼æ¥å­—ç¬¦ä¸²,å› ä¸ºè¿™æ ·ä¼šæœ‰å¤§é‡çš„æ— ç”¨ä¸­é—´å¯¹è±¡ï¼Œè€—è´¹ç©ºé—´å¹¶ä¸”æ‰§è¡Œæ•ˆç‡ä½ä¸‹(æ–°å»ºå¯¹è±¡ã€å›æ”¶å¯¹è±¡éœ€è¦å¤§é‡çš„æ—¶é—´)</td></tr><tr><td>StringBuffer</td><td>é¦–å…ˆåŸºäºSynchronizedæ˜¯<strong>çº¿ç¨‹å®‰å…¨</strong>çš„,å¯¼è‡´æœ‰é¢å¤–çš„æ€§èƒ½å¼€é”€æ‰€ä»¥ä¸€èˆ¬æ¨èä½¿ç”¨StringBuilder.</td><td><strong>å¤šçº¿ç¨‹ç¯å¢ƒ</strong> ,æ¯”å¦‚XMLçš„è§£æã€HTTPå‚æ•°çš„è§£æ</td></tr><tr><td>StringBuilder</td><td><strong>çº¿ç¨‹ä¸å®‰å…¨</strong>,ä½†æ˜¯æ˜¯é¦–é€‰çš„.</td><td><strong>å•çº¿ç¨‹ç¯å¢ƒ</strong>,SQLè¯­å¥çš„æ‹¼æ¥è¿˜æœ‰JSONçš„å°è£…</td></tr></tbody></table><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://time.geekbang.org/column/article/7349">Stringã€StringBufferã€StringBuilderæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é¢è¯•å®˜:è¯·è¯´è¯´ä½ ç†è§£ä¸­javaçš„å¼•ç”¨</title>
    <link href="/2022/05/06/%E9%9D%A2%E8%AF%95%E5%AE%98-%E8%AF%B7%E8%AF%B4%E8%AF%B4%E4%BD%A0%E7%90%86%E8%A7%A3%E4%B8%ADjava%E7%9A%84%E5%BC%95%E7%94%A8/"/>
    <url>/2022/05/06/%E9%9D%A2%E8%AF%95%E5%AE%98-%E8%AF%B7%E8%AF%B4%E8%AF%B4%E4%BD%A0%E7%90%86%E8%A7%A3%E4%B8%ADjava%E7%9A%84%E5%BC%95%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨Javaä¸­é™¤äº†åŸºæœ¬çš„æ•°æ®ç±»å‹ä¹‹å¤–ï¼Œå…¶ä»–çš„éƒ½æ˜¯æŒ‡å‘å„ä¸ªå¯¹è±¡çš„å¯¹è±¡å¼•ç”¨; Javaä¸­ä¼šæ ¹æ®å…¶ç”Ÿå‘½å‘¨æœŸçš„é•¿çŸ­ï¼Œå°†å¼•ç”¨åˆ†ä¸º4ç±».</p><h3 id="å¼•ç”¨çš„ç±»å‹"><a href="#å¼•ç”¨çš„ç±»å‹" class="headerlink" title="å¼•ç”¨çš„ç±»å‹"></a>å¼•ç”¨çš„ç±»å‹</h3><table><thead><tr><th>å¼•ç”¨ç±»å‹</th><th>ç‰¹ç‚¹</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å¼ºå¼•ç”¨</td><td>æˆ‘ä»¬å¹³æ—¶çš„ç¼–ç ä¸­,æ¯”å¦‚ Object obj &#x3D; new Object,è¿™ä¸ªå°±æ˜¯æ˜¾ç¤ºçš„å¼ºå¼•ç”¨ï¼Œå½“JVMå†…å­˜ä¸è¶³çš„æ—¶å€™å¦‚æœæƒ³è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå®å¯æŠ›å‡ºOOMä¹Ÿä¸ä¼šå¯¹è¿™éƒ¨åˆ†çš„å¼ºå¼•ç”¨åšåƒåœ¾å›æ”¶.æˆ‘ä»¬å¯ä»¥åœ¨å°†Object obj &#x3D; nullæ¥å°†ä¸ªobjè¿›è¡Œåƒåœ¾å›æ”¶.</td><td></td></tr><tr><td>è½¯å¼•ç”¨</td><td>æ˜¯é€šè¿‡softReferenceå®ç°çš„,æ¯”å¼ºå¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸè¦çŸ­,å½“æˆ‘ä»¬JVMå†…å­˜ä¸è¶³çš„æ—¶å€™ä¼šå¯¹è¿™ä¸ªè½¯å¼•ç”¨çš„å¯¹è±¡è¿›è¡Œåƒåœ¾å›æ”¶,å¹¶ä¸”å¯ä»¥é…åˆ ReferenceQueue(åæ–‡ä¸­ç»Ÿä¸€ç§°ä¸ºqueue)è”åˆä½¿ç”¨,å½“æˆ‘ä»¬å¯¹queueè¿›è¡Œpollçš„æ—¶å€™å¦‚æœæ˜¯null,å¦åˆ™å°±æ˜¯å¼•ç”¨å¯¹è±¡</td><td>å¯ä»¥ç”¨äºå®ç°å†…å­˜æ•æ„Ÿçš„ç¼“å­˜.</td></tr><tr><td>å¼±å¼•ç”¨</td><td>æ˜¯é€šè¿‡weakReferenceå®ç°çš„,æ¯”è½¯å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸè¿˜è¦çŸ­,å½“æˆ‘ä»¬JVMè¿›è¡ŒGCçš„æ—¶å€™ä¼šä¼˜å…ˆæŠŠå¼±å¼•ç”¨çš„å¯¹è±¡æ¥è¿›è¡ŒGC.è¿™ä¸ªè¦å¯ä»¥é…åˆqueueè¿›è¡Œã€‚</td><td>å†…å­˜æ•æ„Ÿçš„ç¼“å­˜.</td></tr><tr><td>è™šå¼•ç”¨(å¹»æƒ³å¼•ç”¨)</td><td>æ˜¯é€šè¿‡PhantomReferenceç±»å®ç°çš„,æ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥è®¿é—®å¯¹è±¡çš„ä»»ä½•å±æ€§ä»¥åŠå‡½æ•°,è™šå¼•ç”¨ä»…ä»…æ˜¯æä¾›äº†ä¸€ç§ä¿è¯å¯¹è±¡è¢«finalizeå,åšæŸäº›äº‹æƒ…çš„æœºåˆ¶,å¦‚æœä¸€ä¸ªå¯¹è±¡ä»…ä»…è¢«è™šå¼•ç”¨çš„è¯,é‚£ä¹ˆå®ƒå’Œæ²¡æœ‰ä»»ä½•è¢«å¼•ç”¨ä¸€æ ·,åœ¨ä»»ä½•æ—¶å€™éƒ½æœ‰å¯èƒ½è¢«GC,è™šå¼•ç”¨å¿…é¡»å’Œqueueè”åˆä½¿ç”¨,å½“GCå‡†å¤‡å›æ”¶ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™,å¦‚æœå‘ç°å®ƒè¿˜æœ‰è™šå¼•ç”¨,å°±ä¼šåœ¨å›æ”¶å†…å­˜å¯¹è±¡ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªè™šå¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­,ç¨‹åºå¯ä»¥åˆ¤æ–­queueä¸­æ˜¯å¦å·²ç»åŠ å…¥äº†è™šå¼•ç”¨æ¥,äº†è§£å¯¹è±¡æ˜¯å¦å°†è¦è¢«GCå¦‚æœå‘ç°ç¨‹åºå¯ä»¥å½“åœ¨è¢«å›æ”¶ä¹‹å‰è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚</br> ReferenceQueue queue &#x3D; new ReferenceQueue (); PhantomReference pr &#x3D; new PhantomReference (object, queue);</td><td>ç”¨äºè¿½è¸ªgcï¼Œå¯ä»¥åœ¨ç¨‹åºè¢«GCå‰é€šçŸ¥ç”¨æˆ·.</td></tr></tbody></table><h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><ol><li><a href="https://time.geekbang.org/column/article/6970">å¼•ç”¨çš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer66.æ„å»ºä¹˜ç§¯æ•°ç»„</title>
    <link href="/2022/05/06/%E5%89%91%E6%8C%87Offer66-%E6%9E%84%E5%BB%BA%E4%B9%98%E7%A7%AF%E6%95%B0%E7%BB%84/"/>
    <url>/2022/05/06/%E5%89%91%E6%8C%87Offer66-%E6%9E%84%E5%BB%BA%E4%B9%98%E7%A7%AF%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/">å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„ğŸ”—</a><br>å…ˆç›´æ¥æ¥ä¸€ä¸ªé”™è¯¯è§£å†³æ–¹æ³•:</p><p>è¯¥é”™è¯¯çš„è§£å†³æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/6 7:37 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span>[] ints = constructArr(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;);<br>        System.out.println(ints);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å½“å‰ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºn^2.</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> a</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] constructArr(<span class="hljs-type">int</span>[] a) &#123;<br>        <span class="hljs-type">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[a.length];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; a.length; i++) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">currentMulti</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; a.length; j++) &#123;<br>                <span class="hljs-keyword">if</span> (j != i) &#123;<br>                    currentMulti *= a[j];<br>                &#125;<br>            &#125;<br>            result[i] = currentMulti;<br>        &#125;<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šæ­£è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/6 7:45 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span>[] ints = constructArr(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[]&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;);<br>        System.out.println(ints);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è¿™é‡Œé‡‡ç”¨äº†2ä¸ªforå¾ªç¯ æ—¶é—´å¤æ‚åº¦åªæœ‰O(n);ç©ºé—´å¤æ‚åº¦åªæœ‰ä¸ªå¸¸é‡çº§åˆ«çš„æ‰€ä»¥æ˜¯O(1);</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> a</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] constructArr(<span class="hljs-type">int</span>[] a) &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">inputLength</span> <span class="hljs-operator">=</span> a.length;<br>        <span class="hljs-type">int</span>[] result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[inputLength];<br>        <span class="hljs-comment">/** æŠŠæ¯ä¸ªresult[i]å·¦è¾¹çš„ä¹˜é›†å¾—åˆ° */</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, product = <span class="hljs-number">1</span>; i &lt; inputLength; product *= a[i], i++) &#123;<br>            result[i] = product;<br>        &#125;<br>        <span class="hljs-comment">/** æˆ‘çš„ç–‘é—®: ä¸ºä»€ä¹ˆä¸Šé¢æ˜¯=product ä¸‹é¢è¿™é‡Œæ˜¯*=product. */</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> inputLength - <span class="hljs-number">1</span>, product = <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; product *= a[i], i--) &#123;<br>            result[i] *= product;<br>        &#125;<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ºä»€ä¹ˆä½ çš„mavenæ‰“åŒ…è€æ˜¯å‡ºç°é—®é¢˜</title>
    <link href="/2022/05/05/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/"/>
    <url>/2022/05/05/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯ä»‹ç»"><a href="#èƒŒæ™¯ä»‹ç»" class="headerlink" title="èƒŒæ™¯ä»‹ç»"></a>èƒŒæ™¯ä»‹ç»</h3><h4 id="é¡¹ç›®å±‚çº§å’ŒIDEAè®¾ç½®ä»‹ç»"><a href="#é¡¹ç›®å±‚çº§å’ŒIDEAè®¾ç½®ä»‹ç»" class="headerlink" title="é¡¹ç›®å±‚çº§å’ŒIDEAè®¾ç½®ä»‹ç»:"></a>é¡¹ç›®å±‚çº§å’ŒIDEAè®¾ç½®ä»‹ç»:</h4><p>å¤šæ¨¡å—çš„ç›®å½•å±‚çº§ä¸º<br><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="å¤šæ¨¡å—çš„ç›®å½•å±‚çº§"><br>å¯ä»¥çœ‹åˆ°æœ‰3ä¸ªå­æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯dnm-businessã€dnm-ess4jã€dnm-web. IDEAä¸­ä¹Ÿè®¾ç½®äº†:</p><p><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/IDEA%E9%80%92%E5%BD%92%E8%AE%BE%E7%BD%AE.png" alt="IDEAçš„è®¾ç½®"></p><h3 id="æˆ‘çš„æ“ä½œ"><a href="#æˆ‘çš„æ“ä½œ" class="headerlink" title="æˆ‘çš„æ“ä½œ"></a>æˆ‘çš„æ“ä½œ</h3><p>ç‚¹å‡»äº†ä¸‹çš„clean ç„¶åinstall. ç„¶ådnm-webä¸‹çš„tagetæ–‡ä»¶ç›®å½•ä¸­è¿è¡Œäº†java -jaråçš„è¿è¡Œç»“æœå¦‚å›¾ï¼š<br><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E8%BF%90%E8%A1%8C%E9%94%99%E8%AF%AF%E6%88%AA%E5%9B%BE.png" alt="è¿è¡Œç»“æœ"><br>æ€»è€Œè¨€ä¹‹ä¸æ˜¯ç¼ºè¿™ä¸ªå°±æ˜¯ç¼ºé‚£ä¸ª.ä½†æ˜¯æ‰“åŒ…æ˜¯æ­£å¸¸çš„.</p><p>æœ‰ä¸ªé¡¹ç›®æ˜¯å¤šmoduleè¿›è¡Œæ‰“åŒ…çš„,æ‰“åŒ…åå‘ç°ä¸æ˜¯è¿™é‡Œç¼ºä¸€ä¸ªç±»ï¼Œå°±æ˜¯é‚£è¾¹ä¸€ä¸ªä¾èµ–æ²¡æœ‰æ‰“åŒ…å®Œå…¨ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ol><li>ä½¿ç”¨äº†maven Helperè¿™ä¸ªIDEAçš„æ’ä»¶,åªè¦ç®€å•åœ°è¿›è¡Œå¯¹äºæ ‡çº¢çš„å†²çªä¾èµ–è¿›è¡Œexcludeå³å¯ï¼Œæœ€åé‡æ–°clean-package.<br><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E6%9C%80%E7%BB%88pom.xml%E6%B2%A1%E6%9C%89%E5%86%B2%E7%AA%81.png" alt="æœ€ç»ˆçš„pom.xmlä¾èµ–æ ‘"></li><li>ä¹Ÿå¯ä»¥é€šè¿‡ mvn dependency:tree -Dverbose -includes&#x3D;gid:aidçœ‹çœ‹æ‰€ä¾èµ–çš„ç‰ˆæœ¬å’Œå®é™…ç”¨çš„ç‰ˆæœ¬å¯¹ä¸å¯¹ï¼Œgid:aidæ¢æˆè¿™ä¸ªä¾èµ–çš„gaä¿¡æ¯<br>ä¾‹å¦‚:</li></ol><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs Java">âœ  target mvn dependency:tree -Dverbose -Dincludes=io.springfox:springfox-boot-starter<br></code></pre></td></tr></table></figure><h3 id="æœ€ç»ˆæ•ˆæœ"><a href="#æœ€ç»ˆæ•ˆæœ" class="headerlink" title="æœ€ç»ˆæ•ˆæœ"></a>æœ€ç»ˆæ•ˆæœ</h3><p><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%90%E8%A1%8C%E7%9A%84%E6%97%B6%E5%80%99%E5%A5%BD%E5%A5%BD%E7%9A%84-maven%E4%B8%80%E6%89%93%E5%8C%85%E5%B0%B1%E4%B8%A2%E5%A4%B1%E7%B1%BB/%E5%AE%8C%E7%BE%8E%E8%BF%90%E8%A1%8C.png" alt="å®Œç¾è¿è¡Œ"></p>]]></content>
    
    
    <categories>
      
      <category>maven</category>
      
      <category>é¡¹ç›®å®è·µ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer30åŒ…å«minå‡½æ•°çš„æ ˆ</title>
    <link href="/2022/05/05/%E5%89%91%E6%8C%87Offer30%E5%8C%85%E5%90%ABmin%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88/"/>
    <url>/2022/05/05/%E5%89%91%E6%8C%87Offer30%E5%8C%85%E5%90%ABmin%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<p>ğŸ”—<a href="https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/">å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ</a></p><p>é€šè¿‡ArrayListæ¥å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></div></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/5 7:10 AM</span><br><span class="hljs-comment"> *     &lt;p&gt;ç¬¬ä¸€ç‰ˆä»£ç </span><br><span class="hljs-comment"> *     &lt;p&gt;æ‰§è¡Œç»“æœï¼š é€šè¿‡ æ˜¾ç¤ºè¯¦æƒ… æ·»åŠ å¤‡æ³¨</span><br><span class="hljs-comment"> *     &lt;p&gt;æ‰§è¡Œç”¨æ—¶ï¼š 110 ms , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 5.66% çš„ç”¨æˆ· å†…å­˜æ¶ˆè€—ï¼š 43.3 MB , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 56.68% çš„ç”¨æˆ·</span><br><span class="hljs-comment"> *     é€šè¿‡æµ‹è¯•ç”¨ä¾‹ï¼š 19 / 19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MinStack</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">MinStack</span> <span class="hljs-variable">minStack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MinStack</span>();<br>        minStack.push(-<span class="hljs-number">2</span>);<br>        minStack.push(<span class="hljs-number">0</span>);<br>        minStack.push(-<span class="hljs-number">3</span>);<br>        System.out.println(minStack.min());<br>        minStack.pop();<br>        System.out.println(minStack.top());<br>        System.out.println(minStack.min());<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> ArrayList&lt;Integer&gt; arrayList;<br><br>    <span class="hljs-comment">/** initialize your data structure here. */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MinStack</span><span class="hljs-params">()</span> &#123;<br>        arrayList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>        arrayList.add(x);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>        arrayList.remove(arrayList.size() - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">top</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">integer</span> <span class="hljs-operator">=</span> arrayList.get(arrayList.size() - <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">return</span> integer.intValue();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">min</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">minValue</span> <span class="hljs-operator">=</span> arrayList.get(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arrayList.size(); i++) &#123;<br>            <span class="hljs-keyword">if</span> (minValue &gt; arrayList.get(i)) &#123;<br>                minValue = arrayList.get(i);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> minValue;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é€šè¿‡ LinkedList æ¥å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">package</span> com.roger.leetcodejava.jianzhi.solution_30.byLinkedList;<br><br><span class="hljs-keyword">import</span> java.util.Deque;<br><span class="hljs-keyword">import</span> java.util.LinkedList;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/5 7:28 AM</span><br><span class="hljs-comment"> *     &lt;p&gt;ä¸ºä»€ä¹ˆä½¿ç”¨Deque è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨Stack</span><br><span class="hljs-comment"> *     &lt;p&gt;é¦–å…ˆå› ä¸ºclass Stack&lt;E&gt; extends Vector&lt;E&gt; ç»§æ‰¿è‡ª Vector</span><br><span class="hljs-comment"> *     &lt;p&gt;Stackä½œä¸ºjavaè¯­è¨€çš„æ ˆï¼Œæ˜¯è¢«è¯Ÿç—…çš„åœ°æ–¹ï¼Œä½œä¸ºæ ˆæ•°æ®ç»“æ„ï¼Œå´ç»§æ‰¿äº†vectorï¼Œå¯¹å¤–æš´éœ²äº†get(index)è¿™æ ·çš„æ–¹æ³•ï¼Œä¸æ˜¯ä¸€ç§åˆç†çš„å®ç°æ–¹å¼ï¼Œæ‰€ä»¥åæ¥javaå¼€å‘æå€¡ä½¿ç”¨ArrayDeque</span><br><span class="hljs-comment"> *     &lt;p&gt;å¦å¤–é¢˜ç›®ä¸­æœ‰è¦æ±‚è¯´è°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1) æ‰€ä»¥æœ‰ä¸€ä¸ªminStack å­˜æ”¾æœ€å°å€¼</span><br><span class="hljs-comment"> *     &lt;p&gt;æ‰§è¡Œç”¨æ—¶ï¼š 13 ms , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 63.74% çš„ç”¨æˆ· å†…å­˜æ¶ˆè€—ï¼š 43.5 MB , åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº† 34.30% çš„ç”¨æˆ·</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MinStack</span> &#123;<br>  <span class="hljs-comment">/** initialize your data structure here. */</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">MinStack</span> <span class="hljs-variable">minStack</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MinStack</span>();<br>    minStack.push(-<span class="hljs-number">2</span>);<br>    minStack.push(<span class="hljs-number">0</span>);<br>    minStack.push(-<span class="hljs-number">3</span>);<br>    System.out.println(minStack.min());<br>    minStack.pop();<br>    System.out.println(minStack.top());<br>    System.out.println(minStack.min());<br>  &#125;<br><br>  <span class="hljs-keyword">private</span> Deque&lt;Integer&gt; xStack;<br><br>  <span class="hljs-keyword">private</span> Deque&lt;Integer&gt; minStack;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">MinStack</span><span class="hljs-params">()</span> &#123;<br>    xStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    minStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    minStack.push(Integer.MAX_VALUE);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">push</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è¿™é‡Œ Math.min(x,minStack.peek()) æ˜¯éå¸¸å·§å¦™çš„ å› ä¸ºå¦‚æœxStack popçš„è¯ minStackä¹Ÿä¼šåŒæ­¥pop</span><br><span class="hljs-comment">     * å¹¶ä¸”ä¿è¯äº†minStackçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æœ€å°çš„.</span><br><span class="hljs-comment">     */</span><br>    xStack.push(x);<br>    minStack.push(Math.min(x, minStack.peek()));<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pop</span><span class="hljs-params">()</span> &#123;<br>    xStack.pop();<br>    minStack.pop();<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">top</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> xStack.peek();<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">min</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> minStack.peek();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer33äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—</title>
    <link href="/2022/05/04/%E5%89%91%E6%8C%87Offer33%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97/"/>
    <url>/2022/05/04/%E5%89%91%E6%8C%87Offer33%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/5/4 9:46 AM</span><br><span class="hljs-comment"> *     &lt;p&gt;è§£é¢˜æ€è·¯: æ¦‚å¿µä»‹ç»: äºŒå‰æœç´¢æ ‘: å·¦å­æ ‘ä¸Šçš„èŠ‚ç‚¹çš„å€¼ å°äº æ ¹,å³å­æ ‘ä¸Šçš„èŠ‚ç‚¹çš„å€¼ å¤§äº æ ¹ã€‚ å¦‚ä½•åˆ¤æ–­æ˜¯å¦è·³å‡ºé€’å½’? left&gt;right? left right end</span><br><span class="hljs-comment"> *     å·¦å­æ ‘ å³å­æ ‘ æ ¹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">boolean</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> verifyPostorder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[] &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>&#125;);<br>    System.out.println(b);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verifyPostorder</span><span class="hljs-params">(<span class="hljs-type">int</span>[] postorder)</span> &#123;<br>    <span class="hljs-keyword">return</span> mainCore(postorder, <span class="hljs-number">0</span>, postorder.length - <span class="hljs-number">1</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">mainCore</span><span class="hljs-params">(<span class="hljs-type">int</span>[] postOrder, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> &#123;<br>    <span class="hljs-comment">/** è·³å‡ºé€’å½’çš„æ¡ä»¶ */</span><br>    <span class="hljs-keyword">if</span> (start &gt; end) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> start;<br>    <span class="hljs-type">int</span> <span class="hljs-variable">head</span> <span class="hljs-operator">=</span> postOrder[end];<br>    <span class="hljs-comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªå³å­æ ‘çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">for</span> (; count &lt; postOrder.length; count++) &#123;<br>      <span class="hljs-keyword">if</span> (postOrder[count] &gt;= head) &#123;<br>        <span class="hljs-keyword">break</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> count; i &lt; end; i++) &#123;<br>      <span class="hljs-keyword">if</span> (postOrder[i] &lt;= head) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-comment">/** mark! è¿™é‡Œçš„endéœ€è¦-1 */</span><br>    <span class="hljs-keyword">return</span> mainCore(postOrder, start, count - <span class="hljs-number">1</span>) &amp;&amp; mainCore(postOrder, count, end - <span class="hljs-number">1</span>);<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯·å†™å‡ºä¸€ä¸ªæ­»é”çš„demo</title>
    <link href="/2022/05/04/%E8%AF%B7%E5%86%99%E5%87%BA%E4%B8%80%E4%B8%AA%E6%AD%BB%E9%94%81%E7%9A%84demo/"/>
    <url>/2022/05/04/%E8%AF%B7%E5%86%99%E5%87%BA%E4%B8%80%E4%B8%AA%E6%AD%BB%E9%94%81%E7%9A%84demo/</url>
    
    <content type="html"><![CDATA[<h3 id="å…ˆå†™ä¸€ä¸ªé€šè¿‡Synchronizedé€ æˆæ­»é”çš„demo"><a href="#å…ˆå†™ä¸€ä¸ªé€šè¿‡Synchronizedé€ æˆæ­»é”çš„demo" class="headerlink" title="å…ˆå†™ä¸€ä¸ªé€šè¿‡Synchronizedé€ æˆæ­»é”çš„demo."></a>å…ˆå†™ä¸€ä¸ªé€šè¿‡Synchronizedé€ æˆæ­»é”çš„demo.</h3><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SynchronizedTest</span> &#123;<br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <span class="hljs-type">SynchronizedTest</span> <span class="hljs-variable">synchronizedTest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronizedTest</span>();<br>    synchronizedTest.test();<br>  &#125;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">numA</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">numB</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><br>    <span class="hljs-type">Thread</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>              <span class="hljs-meta">@Override</span><br>              <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>                <span class="hljs-keyword">synchronized</span> (numA) &#123;<br>                  System.out.println(<span class="hljs-string">&quot;AAA&quot;</span>);<br>                  <span class="hljs-keyword">try</span> &#123;<br>                    Thread.sleep(<span class="hljs-number">3</span> * <span class="hljs-number">1000</span>);<br>                  &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                  &#125;<br>                  <span class="hljs-keyword">synchronized</span> (numB) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;CCC&quot;</span>);<br>                  &#125;<br>                &#125;<br>              &#125;<br>            &#125;,<br>            <span class="hljs-string">&quot;A&quot;</span>);<br>    a.start();<br><br>    <span class="hljs-type">Thread</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<br>            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>              <span class="hljs-meta">@Override</span><br>              <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>                <span class="hljs-keyword">synchronized</span> (numB) &#123;<br>                  System.out.println(<span class="hljs-string">&quot;BBB&quot;</span>);<br>                  <span class="hljs-keyword">try</span> &#123;<br>                    Thread.sleep(<span class="hljs-number">3</span> * <span class="hljs-number">1000</span>);<br>                  &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                  &#125;<br>                  <span class="hljs-keyword">synchronized</span> (numA) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;DDD&quot;</span>);<br>                  &#125;<br>                &#125;<br>              &#125;<br>            &#125;,<br>            <span class="hljs-string">&quot;B&quot;</span>);<br>    b.start();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é‚£ä¹ˆå¦‚ä½•æ„ŸçŸ¥æ˜¯å¦æ­»é”äº†å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆå¦‚ä½•æ„ŸçŸ¥æ˜¯å¦æ­»é”äº†å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆå¦‚ä½•æ„ŸçŸ¥æ˜¯å¦æ­»é”äº†å‘¢ï¼Ÿ"></a>é‚£ä¹ˆå¦‚ä½•æ„ŸçŸ¥æ˜¯å¦æ­»é”äº†å‘¢ï¼Ÿ</h3><ol><li>å¯ä»¥é€šè¿‡dumpçº¿ç¨‹</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">âœ  ~ jps<br><span class="hljs-number">16342</span> Jps<br><span class="hljs-number">2281</span><br><span class="hljs-number">16169</span> Launcher<br><span class="hljs-number">16170</span> SynchronizedTest<br></code></pre></td></tr></table></figure><p>ç„¶åé€šè¿‡jstackå‘ç°äº†ä»¥ä¸‹å†…å®¹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Java">Found one Java-level deadlock:<br>=============================<br><span class="hljs-string">&quot;B&quot;</span>:<br>  waiting to lock monitor <span class="hljs-number">0x000000013a80b620</span> (object <span class="hljs-number">0x000000076ab33a68</span>, a java.lang.Integer),<br>  which is held by <span class="hljs-string">&quot;A&quot;</span><br><span class="hljs-string">&quot;A&quot;</span>:<br>  waiting to lock monitor <span class="hljs-number">0x000000013a80deb0</span> (object <span class="hljs-number">0x000000076ab33a78</span>, a java.lang.Integer),<br>  which is held by <span class="hljs-string">&quot;B&quot;</span><br><br>Java stack information <span class="hljs-keyword">for</span> the threads listed above:<br>===================================================<br><span class="hljs-string">&quot;B&quot;</span>:<br>at roger.com.javafundament.deadLock.SynchronizedTest$<span class="hljs-number">2.</span>run(SynchronizedTest.java:<span class="hljs-number">52</span>)<br>- waiting to lock &lt;<span class="hljs-number">0x000000076ab33a68</span>&gt; (a java.lang.Integer)<br>- locked &lt;<span class="hljs-number">0x000000076ab33a78</span>&gt; (a java.lang.Integer)<br>at java.lang.Thread.run(Thread.java:<span class="hljs-number">748</span>)<br><span class="hljs-string">&quot;A&quot;</span>:<br>at roger.com.javafundament.deadLock.SynchronizedTest$<span class="hljs-number">1.</span>run(SynchronizedTest.java:<span class="hljs-number">31</span>)<br>- waiting to lock &lt;<span class="hljs-number">0x000000076ab33a78</span>&gt; (a java.lang.Integer)<br>- locked &lt;<span class="hljs-number">0x000000076ab33a68</span>&gt; (a java.lang.Integer)<br>at java.lang.Thread.run(Thread.java:<span class="hljs-number">748</span>)<br><br>Found <span class="hljs-number">1</span> deadlock.<br></code></pre></td></tr></table></figure><h3 id="é¿å…æ­»é”çš„å‡ ä¸ªå¸¸è§æ–¹æ³•"><a href="#é¿å…æ­»é”çš„å‡ ä¸ªå¸¸è§æ–¹æ³•" class="headerlink" title="é¿å…æ­»é”çš„å‡ ä¸ªå¸¸è§æ–¹æ³•"></a>é¿å…æ­»é”çš„å‡ ä¸ªå¸¸è§æ–¹æ³•</h3><p>1é¿å…åŒä¸€ä¸ªçº¿ç¨‹æˆ–è€…å¤šä¸ªé”.</p><ol start="2"><li>é¿å…åœ¨ä¸€ä¸ªçº¿ç¨‹åœ¨é”å†…å ç”¨å¤šä¸ªèµ„æº,å°½é‡ä¿è¯æ¯ä¸ªé”åªå ç”¨ä¸€ä¸ªèµ„æº.</li><li>å°è¯•ä½¿ç”¨å®šæ—¶é”,ä½¿ç”¨lock.tryLock(timeout)æ¥æ›¿ä»£å†…éƒ¨é”çš„æœºåˆ¶.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SynchronizedTryLockTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">SynchronizedTryLockTest</span> <span class="hljs-variable">synchronizedTest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronizedTryLockTest</span>();<br>        synchronizedTest.test();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">lockA</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();<br>        <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">lockB</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>                        <span class="hljs-keyword">try</span> &#123;<br>                            <span class="hljs-keyword">if</span> (lockA.tryLock(<span class="hljs-number">3</span>, TimeUnit.SECONDS)) &#123;<br>                                System.out.println(<span class="hljs-string">&quot;AAA&quot;</span>);<br>                                <span class="hljs-keyword">if</span> (lockB.tryLock(<span class="hljs-number">3</span>, TimeUnit.SECONDS)) &#123;<br>                                    System.out.println(<span class="hljs-string">&quot;BBB&quot;</span>);<br>                                &#125;<br>                            &#125;<br>                        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                            e.printStackTrace();<br>                        &#125;<br>                    &#125;<br>                &#125;)<br>                .start();<br><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>                        <span class="hljs-keyword">try</span> &#123;<br>                            <span class="hljs-keyword">if</span> (lockA.tryLock(<span class="hljs-number">3</span>, TimeUnit.SECONDS)) &#123;<br>                                System.out.println(<span class="hljs-string">&quot;CCC&quot;</span>);<br>                                <span class="hljs-keyword">if</span> (lockB.tryLock(<span class="hljs-number">3</span>, TimeUnit.SECONDS)) &#123;<br>                                    System.out.println(<span class="hljs-string">&quot;DDD&quot;</span>);<br>                                &#125;<br>                            &#125;<br>                        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                            e.printStackTrace();<br>                        &#125;<br>                    &#125;<br>                &#125;)<br>                .start();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><ol start="4"><li>å¯¹äºæ•°æ®åº“é”,åŠ é”å’Œè§£é”å¿…é¡»åœ¨åŒä¸€ä¸ªæ•°æ®åº“è¿æ¥é‡Œé¢,å¦åˆ™ä¼šå‡ºç°è§£é”å¤±æ•ˆçš„æƒ…å†µ.</li></ol><h3 id="github-æºç é“¾æ¥ğŸ”—"><a href="#github-æºç é“¾æ¥ğŸ”—" class="headerlink" title="github æºç é“¾æ¥ğŸ”—"></a>github æºç é“¾æ¥ğŸ”—</h3><ol><li><a href="https://github.com/ZuccRoger/JavaFundament/blob/master/src/main/java/roger/com/javafundament/deadLock/SynchronizedTest.java">SynchronizedTest</a></li><li><a href="https://github.com/ZuccRoger/JavaFundament/blob/master/src/main/java/roger/com/javafundament/deadLock/SynchronizedTryLockTest.java">SynchronizedTryLockTest</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer32.3ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</title>
    <link href="/2022/05/04/%E5%89%91%E6%8C%87Offer32-3%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2022/05/04/%E5%89%91%E6%8C%87Offer32-3%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/">é¢˜ç›®é“¾æ¥</a></p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="hljs-title function_">levelOrder</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>    ArrayList&lt;List&lt;Integer&gt;&gt; resultList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-comment">/** ç©ºæ ‘ */</span><br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> resultList;<br>    &#125;<br>    LinkedList&lt;TreeNode&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    queue.add(root);<br>    <span class="hljs-keyword">while</span> (!queue.isEmpty()) &#123;<br>      ArrayList&lt;Integer&gt; layerList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>      <span class="hljs-comment">/** ä¸ªäººè®¤ä¸ºè¿™ä¸ªåˆ†å±‚æ˜¯æ¯”è¾ƒéš¾çš„ã€‚ä¸çŸ¥é“å¦‚ä½•å¤„ç† */</span><br>      <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> queue.size();<br>      <span class="hljs-keyword">while</span> (size &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">firstNode</span> <span class="hljs-operator">=</span> queue.poll();<br>        layerList.add(firstNode.val);<br>        <span class="hljs-keyword">if</span> (firstNode.left != <span class="hljs-literal">null</span>) &#123;<br>          queue.add(firstNode.left);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (firstNode.right != <span class="hljs-literal">null</span>) &#123;<br>          queue.add(firstNode.right);<br>        &#125;<br>        size--;<br>      &#125;<br>      resultList.add(layerList);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; resultList.size(); i++) &#123;<br>      <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) &#123;<br>        Collections.reverse(resultList.get(i));<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> resultList;<br>  &#125;<br> &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer32.2ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</title>
    <link href="/2022/05/03/%E5%89%91%E6%8C%87Offer32-2%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2022/05/03/%E5%89%91%E6%8C%87Offer32-2%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * public class TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode left;</span><br><span class="hljs-comment"> *     TreeNode right;</span><br><span class="hljs-comment"> *     TreeNode(int x) &#123; val = x; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="hljs-title function_">levelOrder</span><span class="hljs-params">(TreeNode root)</span> &#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>    Queue&lt;TreeNode&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    queue.add(root);<br>    List&lt;List&lt;Integer&gt;&gt; lists = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">while</span> (!queue.isEmpty()) &#123;<br>      ArrayList&lt;Integer&gt; itemList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>      <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> queue.size();<br>      <span class="hljs-keyword">while</span> (len &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-type">TreeNode</span> <span class="hljs-variable">tmpNode</span> <span class="hljs-operator">=</span> queue.remove();<br>        itemList.add(tmpNode.val);<br>        <span class="hljs-keyword">if</span> (tmpNode.left != <span class="hljs-literal">null</span>) &#123;<br>          queue.add(tmpNode.left);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (tmpNode.right != <span class="hljs-literal">null</span>) &#123;<br>          queue.add(tmpNode.right);<br>        &#125;<br>        len--;<br>      &#125;<br>      lists.add(itemList);<br>    &#125;<br>    <span class="hljs-keyword">return</span> lists;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer32.1ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</title>
    <link href="/2022/05/02/%E5%89%91%E6%8C%87Offer32-1%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2022/05/02/%E5%89%91%E6%8C%87Offer32-1%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E6%89%93%E5%8D%B0%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<p>é¢˜ç›®: <a href="https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/">å‰‘æŒ‡Offer32.1ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘</a><br>ä»£ç å—ä¸º:</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>  <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] levelOrder(TreeNode root) &#123;<br>    <span class="hljs-comment">/** é˜²æ­¢å¼‚å¸¸case */</span><br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">0</span>];<br>    &#125;<br>    <span class="hljs-comment">/** bfs éœ€è¦ä¸€ä¸ªé¢å¤–å˜é‡ å»å­˜å‚¨å…ƒç´  */</span><br>    Queue&lt;TreeNode&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    ArrayList&lt;Integer&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    queue.add(root);<br>    <span class="hljs-keyword">while</span> (!queue.isEmpty()) &#123;<br>      <span class="hljs-comment">/** è®°å¾—è¿™é‡Œéœ€è¦ç”¨remove è€Œä¸æ˜¯poll å› ä¸º poll ä¼šè¿”å›null ä½†æ˜¯removeä¸ä¼š */</span><br>      root = queue.remove();<br>      list.add(root.val);<br>      <span class="hljs-keyword">if</span> (root.left != <span class="hljs-literal">null</span>) &#123;<br>        queue.add(root.left);<br>      &#125;<br>      <span class="hljs-keyword">if</span> (root.right != <span class="hljs-literal">null</span>) &#123;<br>        queue.add(root.right);<br>      &#125;<br>    &#125;<br>    <span class="hljs-comment">/** è¿™é‡Œçš„list è½¬ int[]æ•°ç»„éå¸¸å·§å¦™ */</span><br>    <span class="hljs-keyword">return</span> list.stream().mapToInt(Integer::intValue).toArray();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰‘æŒ‡Offer13æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</title>
    <link href="/2022/05/02/%E5%89%91%E6%8C%87Offer13%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E8%BF%90%E5%8A%A8%E8%8C%83%E5%9B%B4/"/>
    <url>/2022/05/02/%E5%89%91%E6%8C%87Offer13%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E8%BF%90%E5%8A%A8%E8%8C%83%E5%9B%B4/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>å‰ªç»³å­(I)</title>
    <link href="/2022/05/02/%E5%89%AA%E7%BB%B3%E5%AD%90/"/>
    <url>/2022/05/02/%E5%89%AA%E7%BB%B3%E5%AD%90/</url>
    
    <content type="html"><![CDATA[<p>é¢˜ç›®: <a href="https://leetcode-cn.com/problems/jian-sheng-zi-lcof/">å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­</a><br>ä»£ç å—ä¸º:</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/** å¤„ç†ç‰¹æ®Šcase */</span><br><span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">2</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n == <span class="hljs-number">3</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-comment">/** å¼€å¯dp mode */</span><br><span class="hljs-type">int</span>[] dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n + <span class="hljs-number">1</span>];<br>dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>dp[<span class="hljs-number">2</span>] = <span class="hljs-number">2</span>;<br>dp[<span class="hljs-number">3</span>] = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>; i &lt;= n; i++) &#123;<br>  <span class="hljs-comment">/** æ­¤å¤„è¦ä¿è¯jä»ä¸‹æ ‡1å¼€å§‹åˆ° i/2 å› ä¸ºæ˜¯å¯¹ç§°æ€§çš„ æ¯”å¦‚ 1+3 å’Œ 2+2 æœ€å3+1å…¶å® jçš„èŒƒå›´æ˜¯ i/2 å³å¯ */</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; j &lt;= (i / <span class="hljs-number">2</span>); j++) &#123;<br>    <span class="hljs-comment">/** æ­¤å¤„è¦ä¿è¯ j ä»¥åŠ i-jæ˜¯ä¿©ä¸‹æ ‡ã€‚ */</span><br>    dp[i] = Math.max(dp[i], dp[j] * dp[i - j]);<br>  &#125;<br>&#125;<br><span class="hljs-keyword">return</span> dp[n];<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>leetcode</category>
      
      <category>å‰‘æŒ‡Offer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¦‚ä½•æ³¨å†Œä¸€ä¸ªbean</title>
    <link href="/2022/05/01/%E5%A6%82%E4%BD%95%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAbean/"/>
    <url>/2022/05/01/%E5%A6%82%E4%BD%95%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AAbean/</url>
    
    <content type="html"><![CDATA[<p>é€šè¿‡BeanDefinitionä»¥åŠå¤–éƒ¨çš„å•ä½“å¯¹è±¡æ¥æ³¨å†Œ</p><p>ä¸‰ä¸ªæ–¹å‘</p><ol><li>æ³¨è§£<ul><li>@Bean</li><li>@Component</li><li>@Import</li><li></li></ul></li><li>API</li><li></li></ol>]]></content>
    
    
    <categories>
      
      <category>æˆ‘æ˜¯é¢è¯•å®˜ç³»åˆ—</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>webClientæ‰«ç›²</title>
    <link href="/2022/05/01/webClient/"/>
    <url>/2022/05/01/webClient/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨spring5ä¹‹å‰æˆ‘ä»¬çŸ¥é“æœ‰http client ä»¥åŠ web clientä¸¤ç§,æ¯«æ— æ„å¤–éƒ½æ˜¯åŒæ­¥æ‰§è¡Œçš„,ç„¶è€Œwebclientæ˜¯å¼‚æ­¥å›è°ƒçš„.</p><h4 id="å‘é€è¯·æ±‚çš„ç§ç±»"><a href="#å‘é€è¯·æ±‚çš„ç§ç±»" class="headerlink" title="å‘é€è¯·æ±‚çš„ç§ç±»"></a>å‘é€è¯·æ±‚çš„ç§ç±»</h4><ol><li>apache httpclient</li><li>webclient</li><li>resttemplate</li></ol><table><thead><tr><th></th><th>apache httpclient</th><th>resttemplate</th><th>webclient</th></tr></thead><tbody><tr><td>ä»£ç ç®€æ´ç¨‹åº¦</td><td>ä½</td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><p><img src="https://note.youdao.com/yws/res/9441/WEBRESOURCE1403f079524010b181d7f9527f979a6f" alt="image.png"><br>ä»£ç é‡å¤§</p><h4 id="æœ¯è¯­"><a href="#æœ¯è¯­" class="headerlink" title="æœ¯è¯­"></a>æœ¯è¯­</h4><p>1. </p><h4 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h4><p>éé˜»å¡ç³»ç»Ÿ(non-blocking servers)</p><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ol><li>åˆ›å»º</li></ol><ul><li>WebClient.create()<figure class="highlight livecodeserver"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs livecodeserver">WebClient.<span class="hljs-built_in">create</span>()<br><br>WebClient.<span class="hljs-built_in">create</span>(String baseUrl)<br></code></pre></td></tr></table></figure></li><li>WebClient.builder()<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">uriBuilderFactory:</span> Customized UriBuilderFactory <span class="hljs-keyword">to</span> use <span class="hljs-keyword">as</span> a base URL.<br><br><span class="hljs-symbol">defaultUriVariables:</span> <span class="hljs-keyword">default</span> values <span class="hljs-keyword">to</span> use <span class="hljs-keyword">when</span> expanding URI templates.<br><br><span class="hljs-symbol">defaultHeader:</span> Headers <span class="hljs-keyword">for</span> every request.<br><br><span class="hljs-symbol">defaultCookie:</span> Cookies <span class="hljs-keyword">for</span> every request.<br><br><span class="hljs-symbol">defaultRequest:</span> Consumer <span class="hljs-keyword">to</span> customize every request.<br><br><span class="hljs-symbol">filter:</span> Client filter <span class="hljs-keyword">for</span> every request.<br><br><span class="hljs-symbol">exchangeStrategies:</span> HTTP message reader/writer customizations.<br><br><span class="hljs-symbol">clientConnector:</span> HTTP client library settings.<br></code></pre></td></tr></table></figure></li></ul><h4 id="å¸¸ç”¨å‡½æ•°"><a href="#å¸¸ç”¨å‡½æ•°" class="headerlink" title="å¸¸ç”¨å‡½æ•°"></a>å¸¸ç”¨å‡½æ•°</h4><ul><li><strong>retrieve()</strong> å®šä¹‰å¦‚ä½•å»æå–å“åº”ç»“æœ.<br>æœ‰ä¸‰ç§</li></ul><ol><li>toEntity</li><li>bodyToMono</li><li>bodyToFlux<br>å®šåˆ¶é”™è¯¯ç±»å‹<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">Mono&lt;Person&gt; result = client.get<span class="hljs-literal">()</span><br>        .uri(<span class="hljs-string">&quot;/persons/&#123;id&#125;&quot;</span>, id).accept(MediaType.APPLICATION_JSON)<br>        .retrieve<span class="hljs-literal">()</span><br>        .on<span class="hljs-constructor">Status(HttpStatus::<span class="hljs-params">is4xxClientError</span>, <span class="hljs-params">response</span> -&gt; <span class="hljs-operator">...</span>)</span><br>        .on<span class="hljs-constructor">Status(HttpStatus::<span class="hljs-params">is5xxServerError</span>, <span class="hljs-params">response</span> -&gt; <span class="hljs-operator">...</span>)</span><br>        .body<span class="hljs-constructor">ToMono(Person.<span class="hljs-params">class</span>)</span>;<br></code></pre></td></tr></table></figure></li></ol><ul><li>exchange()</li><li></li></ul><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm"><span class="hljs-number">1</span>: å‚è€ƒèµ„æ–™ https://elim<span class="hljs-number">168</span>.github.io/spring/bean/<span class="hljs-number">31</span>.Spring<span class="hljs-variable">%E4</span><span class="hljs-variable">%B9</span><span class="hljs-variable">%8</span>BWebClient<span class="hljs-variable">%E4</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%8</span>B<span class="hljs-variable">%E7</span><span class="hljs-variable">%BB</span><span class="hljs-variable">%8</span>D.html<br></code></pre></td></tr></table></figure><h4 id="æˆ‘çš„ç–‘é—®"><a href="#æˆ‘çš„ç–‘é—®" class="headerlink" title="æˆ‘çš„ç–‘é—®"></a>æˆ‘çš„ç–‘é—®</h4><ol><li>è¿™ä¸ªwebclientéœ€è¦é…ç½®ä¸€ä¸ªhttpè¿æ¥æ± å—ï¼Ÿ</li><li>Jetty vs  Netty</li></ol><h4 id="é¡¹ç›®ä¸­é‡åˆ°çš„å›°éš¾"><a href="#é¡¹ç›®ä¸­é‡åˆ°çš„å›°éš¾" class="headerlink" title="é¡¹ç›®ä¸­é‡åˆ°çš„å›°éš¾"></a>é¡¹ç›®ä¸­é‡åˆ°çš„å›°éš¾</h4><ol><li>302çš„æ—¶å€™æ— æ³•æ•è·åˆ°è¿™ä¸ªcookie</li></ol><h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><ol><li><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client">spring.io Web Clinent</a></li><li><a href="https://www.baeldung.com/spring-webclient-resttemplate">link</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>Spring</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AOPå¸¸è§é”™è¯¯</title>
    <link href="/2022/05/01/AOP%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/"/>
    <url>/2022/05/01/AOP%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF/</url>
    
    <content type="html"><![CDATA[<p>AOPæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä»£ç†æ¨¡å¼<br>Spring AOP çš„åº•å±‚æ˜¯åŠ¨æ€ä»£ç†ã€‚è€Œåˆ›å»ºä»£ç†çš„æ–¹å¼æœ‰ä¸¤ç§ï¼ŒJDK çš„æ–¹å¼å’Œ CGLIB çš„æ–¹å¼ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>è¯¦è¿°beanç”Ÿå‘½å‘¨æœŸ</title>
    <link href="/2022/05/01/bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    <url>/2022/05/01/bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</url>
    
    <content type="html"><![CDATA[<h3 id="æŠ›å‡ºé—®é¢˜"><a href="#æŠ›å‡ºé—®é¢˜" class="headerlink" title="æŠ›å‡ºé—®é¢˜"></a>æŠ›å‡ºé—®é¢˜</h3><ol><li></li></ol><p>é—®é¢˜è§£å†³ï¼š<br>å³ Spring åˆå§‹åŒ–å•ä¾‹ç±»çš„ä¸€èˆ¬è¿‡ç¨‹ï¼ŒåŸºæœ¬éƒ½æ˜¯ getBean()-&gt;doGetBean()-&gt;getSingleton()ï¼Œå¦‚æœå‘ç° Bean ä¸å­˜åœ¨ï¼Œåˆ™è°ƒç”¨ createBean()-&gt;doCreateBean() è¿›è¡Œå®ä¾‹åŒ–ã€‚</p><h3 id="classåˆ°Beanä¸­é—´ç»å†äº†å“ªäº›ç”Ÿå‘½å‘¨æœŸä»€ä¹ˆï¼Ÿ"><a href="#classåˆ°Beanä¸­é—´ç»å†äº†å“ªäº›ç”Ÿå‘½å‘¨æœŸä»€ä¹ˆï¼Ÿ" class="headerlink" title="classåˆ°Beanä¸­é—´ç»å†äº†å“ªäº›ç”Ÿå‘½å‘¨æœŸä»€ä¹ˆï¼Ÿ"></a>classåˆ°Beanä¸­é—´ç»å†äº†å“ªäº›ç”Ÿå‘½å‘¨æœŸä»€ä¹ˆï¼Ÿ</h3><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>å…ƒä¿¡æ¯é…ç½®é˜¶æ®µ</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>notify&amp;waitå®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</title>
    <link href="/2022/04/30/notify&amp;wait%E5%AE%9E%E7%8E%B0%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/04/30/notify&amp;wait%E5%AE%9E%E7%8E%B0%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<p>ç”Ÿäº§è€…</p><figure class="highlight java"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></div></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> org.slf4j.Logger;<br><span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;<br><br><span class="hljs-keyword">import</span> java.util.Queue;<br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/4/19 8:06 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(Producer.class);<br>  <span class="hljs-keyword">private</span> Queue&lt;Integer&gt; queue;<br>  <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> maxSize;<br>  <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">pc</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">Producer</span><span class="hljs-params">(Queue&lt;Integer&gt; queue, <span class="hljs-type">int</span> maxSize, String threadName)</span> &#123;<br>    <span class="hljs-built_in">super</span>(threadName);<br>    <span class="hljs-built_in">this</span>.queue = queue;<br>    <span class="hljs-built_in">this</span>.maxSize = maxSize;<br>  &#125;<br><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">super</span>.run();<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        Thread.sleep(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>().nextInt(<span class="hljs-number">2</span>));<br>      &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>        e.printStackTrace();<br>      &#125;<br>      <span class="hljs-comment">/** åœ¨æ¡ä»¶åˆ¤æ–­ä¹‹å‰ç»™å…±äº«èµ„æºåŠ é” */</span><br>      <span class="hljs-keyword">synchronized</span> (queue) &#123;<br>        <span class="hljs-keyword">while</span> (queue.size() == maxSize) &#123;<br>          <span class="hljs-keyword">try</span> &#123;<br>            logger.info(<span class="hljs-string">&quot;æ¶ˆæ¯é˜Ÿåˆ—å·²æ»¡: ç”Ÿäº§è€…çº¿ç¨‹è°ƒç”¨waitæ–¹æ³•è¿›å…¥ç­‰å¾…çŠ¶æ€ ...&quot;</span>);<br>            queue.wait();<br>          &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>          &#125;<br>        &#125;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">messageId</span> <span class="hljs-operator">=</span> pc++;<br>        logger.info(<span class="hljs-string">&quot;ç”Ÿäº§æ¶ˆæ¯:&#123;&#125; &quot;</span>, messageId);<br>        queue.add(messageId);<br>        queue.notify();<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¶ˆè´¹è€…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> org.slf4j.Logger;<br><span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;<br><br><span class="hljs-keyword">import</span> java.util.Queue;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/4/19 8:13 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Consumer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(Consumer.class);<br>  <span class="hljs-keyword">private</span> Queue&lt;Integer&gt; queue;<br><br>  <span class="hljs-keyword">public</span> <span class="hljs-title function_">Consumer</span><span class="hljs-params">(Queue&lt;Integer&gt; queue, String threadName)</span> &#123;<br>    <span class="hljs-built_in">super</span>(threadName);<br>    <span class="hljs-built_in">this</span>.queue = queue;<br>  &#125;<br><br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">super</span>.run();<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>      <span class="hljs-keyword">synchronized</span> (queue) &#123;<br>        <span class="hljs-keyword">while</span> (queue.isEmpty()) &#123;<br>          <span class="hljs-keyword">try</span> &#123;<br>            logger.info(<span class="hljs-string">&quot;æ¶ˆæ¯é˜Ÿåˆ—ä¸ºç©º: æ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨waitæ–¹æ³•è¿›å…¥ç­‰å¾…çŠ¶æ€ ...&quot;</span>);<br>            queue.wait();<br>          &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>          &#125;<br>        &#125;<br>        logger.info(<span class="hljs-string">&quot;æ¶ˆè´¹ä¿¡æ¯:&#123;&#125;&quot;</span>, queue.remove());<br>        queue.notify();<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å¯åŠ¨ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/4/19 8:46 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Launch</span> &#123;<br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    Queue&lt;Integer&gt; queue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>    <span class="hljs-type">int</span> <span class="hljs-variable">maxSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>(queue, maxSize, <span class="hljs-string">&quot;producer-thread&quot;</span>).start();<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Consumer</span>(queue, <span class="hljs-string">&quot;consumer-thread&quot;</span>).start();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œæˆªå›¾:<br><img src="http://pfp.ps.netease.com/kmspvt/file/625e4fc4935599814c6250b2Th1x8iSc01?sign=1m7oZcDS-4WGCnZHfhOFX8Lg0lw=&expire=1651311214" alt="image.png"><br>æºç è‡ªå–:<br><a href="https://github.com/ZuccRoger/JavaFundament">https://github.com/ZuccRoger/JavaFundament</a><br>åŒ…è·¯å¾„ä¸ºï¼š<a href="https://github.com/ZuccRoger/JavaFundament/tree/master/src/main/java/roger/com/javafundament/produceAndConsume/notifyAndWait">https://github.com/ZuccRoger/JavaFundament/tree/master/src/main/java/roger/com/javafundament/produceAndConsume/notifyAndWait</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>springä¸­å¦‚ä½•è‡ªå·±å»å®ç°ä¸€ä¸ªstarter</title>
    <link href="/2022/04/30/spring%E4%B8%AD%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E5%8E%BB%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstarter/"/>
    <url>/2022/04/30/spring%E4%B8%AD%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E5%8E%BB%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAstarter/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…"><a href="#ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…" class="headerlink" title="ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…"></a>ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…</h3><p>é€šè¿‡æ³¨è§£æˆ–è€…ä¸€äº›ç®€å•çš„é…ç½®å°±èƒ½åœ¨ Spring Boot çš„å¸®åŠ©ä¸‹å®ç°æŸå—åŠŸèƒ½ã€‚</p><h3 id="springæ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨è£…é…çš„ï¼Ÿ"><a href="#springæ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨è£…é…çš„ï¼Ÿ" class="headerlink" title="springæ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨è£…é…çš„ï¼Ÿ"></a>springæ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨è£…é…çš„ï¼Ÿ</h3><p>springbootçš„è‡ªåŠ¨é…ç½®æ˜¯åŸºäºspring factoriesæœºåˆ¶å®ç°çš„ï¼Œè¿™æ˜¯ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ï¼Œç±»ä¼¼Java SPIã€‚ springä¼šè‡ªåŠ¨æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹çš„META-INF&#x2F;spring.factoriesæ–‡ä»¶ï¼Œè¯»å–å…¶ä¸­çš„ç±»å‹å¹¶è¿›é¡¹å®ä¾‹åŒ–ã€‚<br>spring.factoriesæ–‡ä»¶ä¸­çš„å†…å®¹å®é™…ä¸Šå°±æ˜¯è¦å¯¼å…¥çš„æ¥å£åå’Œå®ç°ç±»ç»„æˆçš„kvå¯¹ï¼Œkeyä¸ºæ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€äº›æ ‡è¯†å·¥å‚ç±»ï¼Œvalueå°±æ˜¯èƒ½è‡ªåŠ¨é…ç½®çš„ä¸€äº›å·¥å‚å®ç°çš„ç±»ã€‚   åœ¨è‡ªåŠ¨è£…é…æ—¶ï¼Œå…¶å®å°±æ˜¯å»åŠ è½½AutoConfigurationç±»å’Œå®ç°ç±»ï¼Œ<br>åœ¨åŠ è½½è‡ªåŠ¨é…ç½®ç±»çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯å°†spring.factoriesçš„é…ç½®å…¨éƒ¨åŠ è½½è¿›æ¥ï¼Œè€Œæ˜¯é€šè¿‡@Conditionalç­‰æ³¨è§£çš„åˆ¤æ–­è¿›è¡ŒåŠ¨æ€åŠ è½½ï¼Œåªæœ‰å½“å®¹å™¨æ»¡è¶³äº†æ³¨è§£ä¸­çš„æ¡ä»¶çš„æ—¶å€™ï¼Œæ‰ä¼šå°†ç±»åŠ è½½åˆ°å®¹å™¨ä¸­</p><hr><p>å·æ¥çš„å…«è‚¡æ–‡ï¼š<br>è‡ªåŠ¨è£…é…ä¾æ‰˜@Importçš„å¼ºå¤§åŠŸèƒ½å’Œspringçš„SPIæœºåˆ¶ã€‚é€šè¿‡SPIæœºåˆ¶å‘ç°ç±»ï¼Œé€šè¿‡@Importå°†ç±»æ³¨å†Œåˆ°springä¸­ã€‚@SpringBootApplicationè¿™ä¸ªæ³¨è§£æ—¶ç»„åˆæ³¨è§£é‡Œé¢åŒ…å«è‡ªåŠ¨æ‰«ææ³¨è§£ï¼Œé‡Œé¢åŒ…å«ä¸€ä¸ªEnableAutoConfigurationæ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£ä½œç”¨æ˜¯å»å¯»æ‰¾æ¯ä¸ªjaråŒ…é‡Œé¢çš„META-INF&#x2F;spring.factoriesæ–‡ä»¶ï¼Œä¹‹åå°†æ–‡ä»¶é‡Œé¢çš„ç±»å…¨éƒ¨å®ä¾‹åŒ–ã€‚<br>æ¯ä¸ªéœ€è¦è‡ªåŠ¨è£…é…çš„æ¨¡å—éƒ½éœ€è¦ç¼–å†™ä¸€ä¸ªAutoConfigurationç±»ï¼Œè¿™äº›AutoConfigurationç±»çš„åŸç†å¤§æ¦‚æ˜¯é€šè¿‡@Importæ³¨è§£å°†å…¶å±æ€§ç±»Propertieså…¨éƒ¨åˆ°æ³¨å†Œspringå®¹å™¨ä¸­ï¼Œå±æ€§ç±»é€šè¿‡æ³¨è§£@ConfigurationPropertiesä»é…ç½®æ–‡ä»¶é‡Œé¢å–åˆ°é…ç½®å€¼ã€‚ä¹‹åå°†å…³é”®çš„ç±»æ³¨å†Œä¸ºbeanè‡ªåŠ¨æ³¨å…¥å±æ€§ç±»è¿›è¡Œåˆå§‹åŒ–å®Œæˆè‡ªåŠ¨è£…é…çš„åŠŸèƒ½ã€‚</p><h4 id="ç»†åˆ†ç›¸å…³çŸ¥è¯†å¦‚ä¸‹ï¼š"><a href="#ç»†åˆ†ç›¸å…³çŸ¥è¯†å¦‚ä¸‹ï¼š" class="headerlink" title="ç»†åˆ†ç›¸å…³çŸ¥è¯†å¦‚ä¸‹ï¼š"></a>ç»†åˆ†ç›¸å…³çŸ¥è¯†å¦‚ä¸‹ï¼š</h4><p>æˆ‘ä»¬çŸ¥é“</p><figure class="highlight less"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@SpringBootApplication</span> = <span class="hljs-variable">@SpringBootConfiguration</span>+<span class="hljs-variable">@EnableAutoConfiguration</span>+<span class="hljs-variable">@ComponentScan</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬è¦é‡ç‚¹å…³æ³¨è¿™ä¸ª@EnableAutoConfiguration.<br>çœ‹åˆ° EnableAutoConfiguration.class æ–‡ä»¶æœ‰ä¸ª@Import({AutoConfigurationImportSelector.class})</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Target(&#123;ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@AutoConfigurationPackage</span><br><span class="hljs-meta">@Import(&#123;AutoConfigurationImportSelector.class&#125;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> EnableAutoConfiguration &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">ENABLED_OVERRIDE_PROPERTY</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;spring.boot.enableautoconfiguration&quot;</span>;<br><br>    Class&lt;?&gt;[] exclude() <span class="hljs-keyword">default</span> &#123;&#125;;<br><br>    String[] excludeName() <span class="hljs-keyword">default</span> &#123;&#125;;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h3><ol><li>ç¬¬ä¸€æ­¥ä¼šå»çœ‹è¿™ä¸ª<br><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/%E6%A3%80%E6%B5%8B%E6%98%AF%E5%90%A6%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D.png" alt="image.png"><br>å¯ä»¥çœ‹åˆ°é»˜è®¤æ˜¯spring.boot.enableautoconfigurationçš„å€¼é»˜è®¤æ˜¯trueã€‚</li><li>å¾—åˆ°æ’é™¤çš„ä¾èµ–é¡¹<br><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/%E5%BE%97%E5%88%B0%E6%8E%92%E9%99%A4%E7%9A%84%E4%BE%9D%E8%B5%96%E9%A1%B9.png" alt="image"></li><li>å¾—åˆ°é…ç½®å†…å®¹<br><img src="https://eshop-photo1.oss-cn-beijing.aliyuncs.com/blog/%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/%E5%BE%97%E5%88%B0factories%E4%B8%AD%E7%9A%84bean.png" alt="img"></li></ol><h3 id="å¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªstarterï¼Ÿ"><a href="#å¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªstarterï¼Ÿ" class="headerlink" title="å¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªstarterï¼Ÿ"></a>å¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªstarterï¼Ÿ</h3><ol><li>åœ¨resources&#x2F;META-INFä¸­æ–°å»ºspring.factoriesæ–‡ä»¶<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Java">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\<br>com.roger.demospringbootstarter.config.DemoConfig<br></code></pre></td></tr></table></figure></li><li>åœ¨è¿™ä¸ªEnableAutoConfigurationçš„å±æ€§æ‰€å¯¹åº”çš„javaæ–‡ä»¶ä¸­å†™å…¥è‡ªå·±æƒ³è£…é…çš„bean.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: éª†ä½³ä¿Š</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@date</span>: 2022/4/27 10:21 AM</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoConfig</span> &#123;<br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(DemoConfig.class);<br>  <span class="hljs-meta">@Bean</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">demoService</span><span class="hljs-params">()</span> &#123;<br>    logger.info(<span class="hljs-string">&quot;æˆ‘æ˜¯è‡ªåŠ¨è£…é…è¿›æ¥çš„&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>åœ¨å¤–éƒ¨å¦‚ä½•å¼•ç”¨ï¼Ÿ<br>æœ¬åœ°æ‰“åŒ…çš„æ—¶å€™å¯ä»¥ç›´æ¥ç‚¹å‡»mvn clean pakcage.ç„¶åä¼šåœ¨æœ¬åœ°çš„mavenä»“åº“ä¸­å‡ºç°è¯¥jaræ–‡ä»¶ã€‚<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.roger<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="å¦‚ä½•è‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆ"><a href="#å¦‚ä½•è‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="å¦‚ä½•è‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆ"></a>å¦‚ä½•è‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</h3><p>å¯åŠ¨çš„æ—¶å€™å¯ä»¥å¢åŠ -Ddebugå‚æ•°.<br>ä¼šæœ‰ä»¥ä¸‹4ç§å½¢å¼çš„è¾“å‡º</p><table><thead><tr><th>ç±»å‹</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>Positive matches</td><td>@Conditionalæ¡ä»¶ä¸ºçœŸï¼Œé…ç½®ç±»è¢«Springå®¹å™¨åŠ è½½</td></tr><tr><td>Negative matches</td><td>@Conditionalæ¡ä»¶ä¸ºå‡ï¼Œé…ç½®ç±»æœªè¢«Springå®¹å™¨åŠ è½½</td></tr><tr><td>Exclusions</td><td>åº”ç”¨ç«¯æ˜ç¡®æ’é™¤åŠ è½½é…ç½®</td></tr><tr><td>Unconditional classes</td><td>è‡ªåŠ¨é…ç½®ç±»ä¸åŒ…å«ä»»ä½•ç±»çº§åˆ«çš„æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç±»å§‹ç»ˆä¼šè¢«è‡ªåŠ¨åŠ è½½ã€‚</td></tr></tbody></table><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus">Unconditional classes:<br>----------------------<br><br>    org<span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.autoconfigure</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.ConfigurationPropertiesAutoConfiguration</span><br><br>    com<span class="hljs-selector-class">.roger</span><span class="hljs-selector-class">.demospringbootstarter</span><span class="hljs-selector-class">.config</span><span class="hljs-selector-class">.DemoConfig</span><br><br>    org<span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.autoconfigure</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.LifecycleAutoConfiguration</span><br><br>    org<span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.autoconfigure</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.PropertyPlaceholderAutoConfiguration</span><br><br>    org<span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.autoconfigure</span><span class="hljs-selector-class">.availability</span><span class="hljs-selector-class">.ApplicationAvailabilityAutoConfiguration</span><br><br>    org<span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.boot</span><span class="hljs-selector-class">.autoconfigure</span><span class="hljs-selector-class">.info</span>.ProjectInfoAutoConfiguration<br></code></pre></td></tr></table></figure><p>æœ€ç»ˆåœ¨è¾“å‡ºçš„å‘½ä»¤è¡Œä¸­æˆ‘çœ‹è§äº†    com.roger.demospringbootstarter.config.DemoConfig è¯¥Bean.</p><h3 id="æœ€åçš„æ•ˆæœ"><a href="#æœ€åçš„æ•ˆæœ" class="headerlink" title="æœ€åçš„æ•ˆæœ"></a>æœ€åçš„æ•ˆæœ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-number">2022</span>-<span class="hljs-number">04</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">57</span>:<span class="hljs-number">06.150</span>  INFO <span class="hljs-number">56979</span> --- [           main] r.c.j.JavaFundamentApplication           : Starting JavaFundamentApplication using Java <span class="hljs-number">1.8</span><span class="hljs-number">.0_312</span> on YolandadeMacBook-Air.local with PID <span class="hljs-number">56979</span> (/Users/yolanda/code/javaProject/javaFundament/target/classes started by yolanda in /Users/yolanda/code/javaProject/javaFundament)<br><span class="hljs-number">2022</span>-<span class="hljs-number">04</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">57</span>:<span class="hljs-number">06.152</span>  INFO <span class="hljs-number">56979</span> --- [           main] r.c.j.JavaFundamentApplication           : No active profile set, falling back to <span class="hljs-number">1</span> <span class="hljs-keyword">default</span> profile: <span class="hljs-string">&quot;default&quot;</span><br><span class="hljs-number">2022</span>-<span class="hljs-number">04</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">57</span>:<span class="hljs-number">09.567</span>  INFO <span class="hljs-number">56979</span> --- [           main] c.r.d.config.DemoConfig                  : æˆ‘æ˜¯è‡ªåŠ¨è£…é…è¿›æ¥çš„<br>asdas dlksa dsj kldsja kldsaj klasjdl ksaj<br><span class="hljs-number">2022</span>-<span class="hljs-number">04</span>-<span class="hljs-number">30</span> <span class="hljs-number">10</span>:<span class="hljs-number">57</span>:<span class="hljs-number">09.656</span>  INFO <span class="hljs-number">56979</span> --- [           main] r.c.j.JavaFundamentApplication           : Started JavaFundamentApplication in <span class="hljs-number">3.71</span> seconds (JVM running <span class="hljs-keyword">for</span> <span class="hljs-number">4.835</span>)<br>Disconnected from the target VM, address: <span class="hljs-string">&#x27;127.0.0.1:61225&#x27;</span>, transport: <span class="hljs-string">&#x27;socket&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="æºä»£ç è‡ªå–"><a href="#æºä»£ç è‡ªå–" class="headerlink" title="æºä»£ç è‡ªå–"></a>æºä»£ç è‡ªå–</h3><ol><li><a href="https://github.com/ZuccRoger/AutoConfigaration">https://github.com/ZuccRoger/AutoConfigaration</a></li></ol><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ol><li><a href="https://javaguide.cn/system-design/framework/spring/spring-boot-auto-assembly-principles.html">Javaguide</a></li><li><a href="https://time.geekbang.org/course/detail/100023501-87617">æå®¢æ—¶é—´-äº†è§£è‡ªåŠ¨è£…é…å®ç°åŸç†</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åŸåˆ›</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
