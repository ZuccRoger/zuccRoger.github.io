

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="sonarQube介绍​		SonarQube是开源的代码质量管理平台，支持Java, C#, C&#x2F;C++, PL&#x2F;SQL, Cobol, JavaScrip, Groovy 等二十几种编程语言的代码质量管理与检测，可以从代码规范、潜在bug、耦合、重复代码、安全漏洞、注释等多维度检测代码质量，同时拥有优秀的可视化界面，是DevOps流程中CI&#x2F;CD环节重要的一环 ​">
<meta property="og:type" content="article">
<meta property="og:title" content="手把手带你部署sonarQube">
<meta property="og:url" content="http://example.com/2022/10/13/sonarqube%E9%83%A8%E7%BD%B2/index.html">
<meta property="og:site_name" content="骆佳俊的博客">
<meta property="og:description" content="sonarQube介绍​		SonarQube是开源的代码质量管理平台，支持Java, C#, C&#x2F;C++, PL&#x2F;SQL, Cobol, JavaScrip, Groovy 等二十几种编程语言的代码质量管理与检测，可以从代码规范、潜在bug、耦合、重复代码、安全漏洞、注释等多维度检测代码质量，同时拥有优秀的可视化界面，是DevOps流程中CI&#x2F;CD环节重要的一环 ​">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h73gr73t89j31gm05kab2.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h73grjtxubj31dg0u0gq6.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74vtwu1xwj31ol0u0tck.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74vy6lgphj31g80d20u9.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h73sehxjvpj316q0u077p.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74sguo0ffj31p20u00wd.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h789y48gt4j318d0u00w6.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h78abwc8bkj31ch0u0q72.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74tk3nqwpj319j0u0dib.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74tkijjhnj31be0u0jup.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74tkx0em6j31ch0u0wi9.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74wpp49b9j31a80u0wjz.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74wrcnw7gj31gj0u0n02.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74ws775lkj32040t2ael.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h74wtfs7q4j315f0u0dmo.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h784ql1a2qj31790u077e.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h784x0l894j31l80remzk.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h784xsu8azj31dp0u0tbx.jpg">
<meta property="article:published_time" content="2022-10-13T02:37:45.000Z">
<meta property="article:modified_time" content="2022-10-17T08:23:07.123Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="原创">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://tva1.sinaimg.cn/large/008vxvgGly1h73gr73t89j31gm05kab2.jpg">
  
  
  <title>手把手带你部署sonarQube - 骆佳俊的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"dNMO1a2lfpClMjvOWl0SzD38-gzGzoHsz","app_key":"4egS3ArY4RdX7SV1vGUKVOKr","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>骆佳俊的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="手把手带你部署sonarQube">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-10-13 10:37" pubdate>
        2022年10月13日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8.6k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      72 分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">手把手带你部署sonarQube</h1>
            
            <div class="markdown-body">
              <h2 id="sonarQube介绍"><a href="#sonarQube介绍" class="headerlink" title="sonarQube介绍"></a>sonarQube介绍</h2><p>​		SonarQube是开源的代码质量管理平台，支持Java, C#, C&#x2F;C++, PL&#x2F;SQL, Cobol, JavaScrip, Groovy 等二十几种编程语言的代码质量管理与检测，可以从代码规范、潜在bug、耦合、重复代码、安全漏洞、注释等多维度检测代码质量，同时拥有优秀的可视化界面，是DevOps流程中CI&#x2F;CD环节重要的一环</p>
<p>​		随着项目团队规模日益壮大，项目代码量也越来越多。且不说团队成员编码水平层次不齐，即便是大佬，也难免因为代码量的增加和任务的繁重而忽略代码的质量，最终的问题便是bug的增多和代码债务的堆积。因此，采用了自动化代码review的工具，<strong>SonarQube</strong>，降低人工code review的成本！  </p>
<h2 id="老司机手把手带你如何部署上线"><a href="#老司机手把手带你如何部署上线" class="headerlink" title="老司机手把手带你如何部署上线"></a>老司机手把手带你如何部署上线</h2><h3 id="第一步-下载zip包"><a href="#第一步-下载zip包" class="headerlink" title="第一步: 下载zip包"></a>第一步: 下载zip包</h3><h4 id="版本选择"><a href="#版本选择" class="headerlink" title="版本选择"></a>版本选择</h4><p>点击 <a target="_blank" rel="noopener" href="https://www.sonarqube.org/downloads/">https://www.sonarqube.org/downloads/</a>, 然后根据下面两个图找到对应的jar文件。<br><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h73gr73t89j31gm05kab2.jpg" srcset="/img/loading.gif" lazyload alt="sonar7.6"></p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h73grjtxubj31dg0u0gq6.jpg" srcset="/img/loading.gif" lazyload alt="如何找到sonar 历史版本的下载url"></p>
<p>因为组内开发都是用 Java8 的原因，sonar支持最高版本是7.9 综合部署和软件的综合考虑选择了 <a target="_blank" rel="noopener" href="https://docs.sonarqube.org/7.6/requirements/requirements/">sonarQube 7.6版本</a><br>另外不同的sonarQube的版本 支持的jdk版本不一样，所以我们一定要选择好自己适应的jdk版本。<img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74vtwu1xwj31ol0u0tck.jpg" srcset="/img/loading.gif" lazyload alt="sonar 7.6支持的jdk版本"></p>
<h3 id="第二步-把zip包解压，放到服务器上"><a href="#第二步-把zip包解压，放到服务器上" class="headerlink" title="第二步: 把zip包解压，放到服务器上"></a>第二步: 把zip包解压，放到服务器上</h3><p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74vy6lgphj31g80d20u9.jpg" srcset="/img/loading.gif" lazyload alt="sonarQube部署到服务器上"></p>
<h3 id="第三步：-配置-SonarQube"><a href="#第三步：-配置-SonarQube" class="headerlink" title="第三步： 配置 SonarQube"></a>第三步： 配置 SonarQube</h3><h4 id="mysql-配置修改"><a href="#mysql-配置修改" class="headerlink" title="mysql 配置修改"></a>mysql 配置修改</h4><figure class="highlight sh"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs sh">vim /srv/sonarqube-7.6/conf/sonar.properties<br></code></pre></td></tr></table></figure>

<p>找到 下面的几处地方 并且 修改对应文本。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">sonar.jdbc.url=jdbc:mysql://此处填写你的mysqlUrl:此处填写你的mysqlPort/sonar?useUnicode=<span class="hljs-literal">true</span>&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=<span class="hljs-literal">true</span>&amp;useConfigs=maxPerformance&amp;useSSL=<span class="hljs-literal">false</span><br>sonar.jdbc.username=此处填写你的mysql账户<br>sonar.jdbc.password=此处填写你的mysql密码<br></code></pre></td></tr></table></figure>

<h4 id="es和项目的启动port配置修改"><a href="#es和项目的启动port配置修改" class="headerlink" title="es和项目的启动port配置修改"></a>es和项目的启动port配置修改</h4><p>因为服务器上可能有其他服务占用9000和9001端口，所以可以自己按需将 sonar.web.port 的默认端口 9000 修改一下，作者修改成了9003.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># Web context. When set, it must start with forward slash (for example /sonarqube).</span><br><span class="hljs-comment"># The default value is root context (empty value).</span><br><span class="hljs-comment">#sonar.web.context=</span><br><span class="hljs-comment"># TCP port for incoming HTTP connections. Default value is 9000.</span><br>sonar.web.port=9003<br></code></pre></td></tr></table></figure>

<p>另外 sonar 服务依赖es 所以可以按需修改 es 的端口号。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># Elasticsearch port. Default is 9001. Use 0 to get a free port.</span><br><span class="hljs-comment"># As a security precaution, should be blocked by a firewall and not exposed to the Internet.</span><br>sonar.search.port=9004<br></code></pre></td></tr></table></figure>

<h3 id="第四步-启动！"><a href="#第四步-启动！" class="headerlink" title="第四步: 启动！"></a>第四步: 启动！</h3><p>找到你的 sonar bin目录，然后根据你的服务器类型找到对应的目录，以下是作者的服务器启动的sh脚本所在的地方。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 找到你的 sonar bin目录，然后根据你的服务器类型找到对应的目录，以下是作者的服务器启动的sh脚本所在的地方。</span><br><span class="hljs-built_in">cd</span> /srv/sonarqube-7.6/bin/linux-x86-64<br><span class="hljs-comment"># 启动脚本！</span><br>./sonar.sh  start <br></code></pre></td></tr></table></figure>

<p>如果 你在这步骤出现了</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">Starting SonarQube...<br>Failed to start SonarQube.<br></code></pre></td></tr></table></figure>

<p>可以继续看下文，<strong>如果恰好都有你出现的异常情况</strong>，作者都给出了解决方案。</p>
<h2 id="我遇到的问题"><a href="#我遇到的问题" class="headerlink" title="我遇到的问题"></a>我遇到的问题</h2><h3 id="sonar-启动异常"><a href="#sonar-启动异常" class="headerlink" title="sonar 启动异常"></a>sonar 启动异常</h3><h4 id="fail-to-start-soarQube"><a href="#fail-to-start-soarQube" class="headerlink" title="fail to start soarQube"></a>fail to start soarQube</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">luojiajun@qa-test-webserver-12:/srv/sonarqube-7.6/bin/linux-x86-64$ ./sonar.sh start<br>Starting SonarQube...<br>Failed to start SonarQube.<br></code></pre></td></tr></table></figure>

<p><strong>解决方案</strong>: </p>
<p><strong>一定请到 &#x2F;sonarqube-7.6&#x2F;logs 到这个路径下面看日志报错</strong>，以下是我接入过程中发现的问题以及如何解决的。</p>
<ol>
<li><p>JVM没有找到如果是的话 -&gt; 修改 sonarqube-7.6&#x2F;conf&#x2F;wrapper.conf 文件 指定JVM路径。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># Path to JVM executable. By default it must be available in PATH.</span><br><span class="hljs-comment"># Can be an absolute path, for example:</span><br><span class="hljs-comment">#wrapper.java.command=/path/to/my/jdk/bin/java</span><br><span class="hljs-comment">#下方是 替换 后的java地址</span><br>wrapper.java.command=/srv/jdk/jdk1.8.0_311/bin/java <br></code></pre></td></tr></table></figure>
</li>
<li><p>Process [es] is stopped</p>
</li>
</ol>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Running</span> SonarQube...<br><span class="hljs-attribute">wrapper</span>  | --&gt; Wrapper Started as Console wrapper  | Launching a JVM...<br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    | Wrapper (Version <span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">3</span>) http://wrapper.tanukisoftware.org<br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    |   Copyright <span class="hljs-number">1999</span>-<span class="hljs-number">2006</span> Tanuki Software, Inc.  <span class="hljs-literal">All</span> Rights Reserved.<br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    |<br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    | <span class="hljs-number">2017</span>.<span class="hljs-number">12</span>.<span class="hljs-number">14</span> <span class="hljs-number">18</span>:<span class="hljs-number">45</span>:<span class="hljs-number">28</span> INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory /etc/sonarqube/temp<br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    | <span class="hljs-number">2017</span>.<span class="hljs-number">12</span>.<span class="hljs-number">14</span> <span class="hljs-number">18</span>:<span class="hljs-number">45</span>:<span class="hljs-number">28</span> INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening <span class="hljs-literal">on</span> /<span class="hljs-number">127.0.0.1:9001</span><br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    | <span class="hljs-number">2017</span>.<span class="hljs-number">12</span>.<span class="hljs-number">14</span> <span class="hljs-number">18</span>:<span class="hljs-number">45</span>:<span class="hljs-number">29</span> INFO  app[][o.s.a.p.ProcessLauncherImpl] Launch process[[key=&#x27;es&#x27;, ipcIndex=<span class="hljs-number">1</span>, logFilenamePrefix=es]] from    <span class="hljs-meta"> [/etc/sonarqube/elasticsearch]: /etc/sonarqube/elasticsearch/bin/elasticsearch -Epath.conf=/etc/sonarqube/temp/conf/es</span><br><span class="hljs-meta">jvm 1    | 2017.12.14 18:45:29 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running</span><br><span class="hljs-meta">jvm 1    | 2017.12.14 18:45:29 WARN  app[][o.s.a.p.AbstractProcessMonitor] Process exited with exit value [es]: 137</span><br><span class="hljs-meta">jvm 1    | 2017.12.14 18:45:29 INFO  app[][o.s.a.SchedulerImpl] Process [es] is stopped</span><br><span class="hljs-meta">jvm 1    | 2017.12.14 18:45:29 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped</span><br><span class="hljs-meta">jvm 1    | 2017.12.14 18:45:29 INFO  app[][o.e.p.PluginsService] no modules loaded</span><br><span class="hljs-meta">jvm 1    | 2017.12.14 18:45:29 INFO  app[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]</span><br><span class="hljs-attribute">jvm</span> <span class="hljs-number">1</span>    | <span class="hljs-number">2017</span>.<span class="hljs-number">12</span>.<span class="hljs-number">14</span> <span class="hljs-number">18</span>:<span class="hljs-number">45</span>:<span class="hljs-number">30</span> WARN  app[][i.n.u.i.MacAddressUtil] Failed to find a usable hardware address from the network interfaces; using random bytes: <span class="hljs-number">05</span>:<span class="hljs-number">2</span>b:<span class="hljs-number">7</span>f:<span class="hljs-number">2</span>f:de:<span class="hljs-number">90</span>:ca:<span class="hljs-number">4</span>a<br><span class="hljs-attribute">wrapper</span>  | &lt;-- Wrapper Stopped<br></code></pre></td></tr></table></figure>

<p><strong>非常关键！ 非常关键！ 非常关键！</strong><br><strong>启动之前先使用 chown 命令将sonarqube-7.6及其子目录授权给一个非root的用户，sonarqube及其es等软件禁止 root账户启动，因此需要切换一个非root账户，授权的用户需要有bin目录及其子目录的读取和可执行的权限。</strong> </p>
<h3 id="插件相关问题"><a href="#插件相关问题" class="headerlink" title="插件相关问题"></a>插件相关问题</h3><h4 id="Error-while-downloading-plugin-‘l10nzh’-with-version-‘9-6’-No-compatible-plugin-found"><a href="#Error-while-downloading-plugin-‘l10nzh’-with-version-‘9-6’-No-compatible-plugin-found" class="headerlink" title="Error while downloading plugin ‘l10nzh’ with version ‘9.6’. No compatible plugin found."></a>Error while downloading plugin ‘l10nzh’ with version ‘9.6’. No compatible plugin found.</h4><p>因为低于7.9的版本不支持 直接在sonarqube 中直接下载安装插件，所以我们所有的第三方插件需要手动导入到 &#x2F;opt&#x2F;sonarqube&#x2F;extensions&#x2F;plugins&#x2F;目录下</p>
<p>我当前用的是7.6在 以 导入汉化包为例子：</p>
<p>jar包下载地址是 <a target="_blank" rel="noopener" href="https://github.com/xuhuisheng/sonar-l10n-zh/releases/tag/sonar-l10n-zh-plugin-1.26">https://github.com/xuhuisheng/sonar-l10n-zh/releases/tag/sonar-l10n-zh-plugin-1.26</a>.</p>
<p>重启一下即可</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">luojiajun@qa-test-webserver-12:/srv/sonarqube-7.6/bin/linux-x86-64$ sh sonar.sh restat<br>Stopping SonarQube...<br>Waiting <span class="hljs-keyword">for</span> SonarQube to <span class="hljs-built_in">exit</span>...<br>Stopped SonarQube.<br></code></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h73sehxjvpj316q0u077p.jpg" srcset="/img/loading.gif" lazyload alt="汉化后的效果"></p>
<h4 id="如何安装配置-Pmd"><a href="#如何安装配置-Pmd" class="headerlink" title="如何安装配置 Pmd?"></a>如何安装配置 Pmd?</h4><ol>
<li><p><a target="_blank" rel="noopener" href="https://github.com/JacksonZhangHuaQuan/sonar-pmd-plugin">https://github.com/JacksonZhangHuaQuan/sonar-pmd-plugin</a> mvn clean install 将jar文件复制到extensions&#x2F;plugins目录下即可。</p>
</li>
<li><p>【推荐这个！不需要配置，直接导入到 extensions&#x2F;plugins 目录下即可直接使用！】 <a target="_blank" rel="noopener" href="https://github.com/ZuccRoger/sonar-pmd-plugin/blob/master/sonar-pmd-plugin-3.2.1.jar">https://github.com/ZuccRoger/sonar-pmd-plugin/blob/master/sonar-pmd-plugin-3.2.1.jar</a></p>
</li>
</ol>
<h4 id="配置-sonar-gitlab-plugin"><a href="#配置-sonar-gitlab-plugin" class="headerlink" title="配置 sonar-gitlab-plugin"></a>配置 sonar-gitlab-plugin</h4><p>GitLab 用户令牌生成<br>GitLab 安装完成后，我们需要需要根据 3.1.3 中的要求，生成用户令牌。</p>
<p>具体步骤如下：</p>
<p>登录具有管理员权限的账号（一定要是管理员身份）</p>
<p>访问地址 <a target="_blank" rel="noopener" href="http://gitlab.example.com/profile/personal_access_tokens">http://gitlab.example.com/profile/personal_access_tokens</a> 进入令牌生成页面</p>
<p>输入令牌名称，勾选 api 、read_user、sudo 权限，点击【创建】按钮，即可生成用户令牌</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74sguo0ffj31p20u00wd.jpg" srcset="/img/loading.gif" lazyload alt="gitlab 创建api token"></p>
<p>若 sonar-gitlab-plugin 成功安装，则在 SonarQube 的配置页面可以见到如下页面：</p>
<p>具体路径为：登录 admin 账号 -&gt; 点击顶部导航栏【配置】按钮 -&gt; 点击【通用设置】中的【GitLab】选项卡</p>
<p>在该页面中，需要修改以下参数的值：</p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数标识</th>
<th>目标值</th>
</tr>
</thead>
<tbody><tr>
<td>GitLab url</td>
<td>sonar.gitlab.url</td>
<td><a target="_blank" rel="noopener" href="http://gitlab.example.com/">http://gitlab.example.com</a></td>
</tr>
<tr>
<td>GitLab User Token</td>
<td>sonar.gitlab.user_token</td>
<td>GitLab 的用户令牌，获取方式如上图</td>
</tr>
<tr>
<td>GitLab API version</td>
<td>sonar.gitlab.api_version</td>
<td>v4</td>
</tr>
</tbody></table>
<p>注：上述参数中，GitLab User Token 是核心，设置错误的 token，将直接影响到 SonarQube 与 GitLab 的协作。特别要注意的是，生成该 token 的用户一定要具备管理员权限，否则 SonarQube 无法对 GitLab 上的所有项目进行评论。</p>
<h2 id="推荐安装的插件"><a href="#推荐安装的插件" class="headerlink" title="推荐安装的插件"></a>推荐安装的插件</h2><ol>
<li>chinese（是个汉化包帮助小白更快上手sonarqube）</li>
<li>Pmd <a target="_blank" rel="noopener" href="https://github.com/jborgers/sonar-pmd/releases">https://github.com/jborgers/sonar-pmd/releases</a></li>
<li>sonar-gitlab-plugin</li>
</ol>
<h3 id="检验是否插件成功导入并且正确配置？"><a href="#检验是否插件成功导入并且正确配置？" class="headerlink" title="检验是否插件成功导入并且正确配置？"></a>检验是否插件成功导入并且正确配置？</h3><p>​	未导入的时候core review结果</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h789y48gt4j318d0u00w6.jpg" srcset="/img/loading.gif" lazyload alt="未导入的时候core review结果"></p>
<p>导入成功之后的代码检测质量报告,新增了java-p3c。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h78abwc8bkj31ch0u0q72.jpg" srcset="/img/loading.gif" lazyload alt="导入成功之后的代码检测质量报告"></p>
<h2 id="使用效果截图"><a href="#使用效果截图" class="headerlink" title="使用效果截图"></a>使用效果截图</h2><p> 下图是SonarQube项目页，展示所有项目概况。左侧可以根据质量阈、可靠性、安全性、可维护性、代码覆盖率、代码重复率、项目规模等维护进行筛选过滤。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74tk3nqwpj319j0u0dib.jpg" srcset="/img/loading.gif" lazyload alt="所有的项目列表"></p>
<p> 选择某个项目后可进入项目详情页，可详细查看该项目最近一次的扫描结果及评级、新增代码的可靠性、安全性、覆盖率、代码重复率等，该页面还展示了累积的扫描结果。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74tkijjhnj31be0u0jup.jpg" srcset="/img/loading.gif" lazyload alt="单个项目总览"></p>
<p> 问题页展示了扫描结果中所有问题汇总，可根据bug的类型、严重程度、是否新提交引入、提交人等维度进行筛选。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74tkx0em6j31ch0u0wi9.jpg" srcset="/img/loading.gif" lazyload alt="现存的代码坏味道截图"></p>
<p> 针对具体问题，还可以修改所属类型（BUG、漏洞还是属于代码异味），修改优先级及分配给对应责任人。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74wpp49b9j31a80u0wjz.jpg" srcset="/img/loading.gif" lazyload alt="分配责任人"></p>
<p>从可靠性、安全性、可维护性、单元测试覆盖率、代码重复等维度直观展示当前项目中存在的风险。其中圈圈颜色越深代表问题越集中，圈圈越大代表问题越多，这样可以很直观的看出当前未处理的问题集中在哪个文件，可以有针对性的进行修改。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74wrcnw7gj31gj0u0n02.jpg" srcset="/img/loading.gif" lazyload alt="SonarQube指标"></p>
<p> 以目录树的形式，展现每个文件的bug、漏洞、代码异味（容易混淆和难于维护的代码）、安全问题、单元测试覆盖率及代码重复率。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74ws775lkj32040t2ael.jpg" srcset="/img/loading.gif" lazyload alt="SonarQube代码"></p>
<p> 代码规则是SonarQube的核心，代码扫描时就是通过这些规则检测问题。除了默认规则不允许修改外，用户可扩展不同规则，停用&#x2F;启用规则，或用于不同的项目扫描。</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h74wtfs7q4j315f0u0dmo.jpg" srcset="/img/loading.gif" lazyload alt="代码规则配置"></p>
<p> 质量配置是代码分析时使用的规则集合，可通过SonarQube应用市场导入不同的插件，扩展各种规则。</p>
<p> 通过设置质量阈，可以直观的看到项目的打分情况，目前SonarQube可以基于以下方面对项目进行评分。</p>
<table>
<thead>
<tr>
<th>复杂度</th>
<th>覆盖率</th>
<th>重复</th>
<th>问题</th>
<th>可维护性</th>
<th>可靠性</th>
<th>安全性</th>
<th>大小</th>
</tr>
</thead>
<tbody><tr>
<td>认知复杂度</td>
<td>分支覆盖</td>
<td>重复块</td>
<td>阻断违规</td>
<td>新代码的技术债务</td>
<td>Bugs</td>
<td>新安全热点</td>
<td>类</td>
</tr>
<tr>
<td>圈复杂度</td>
<td>新代码的分支覆盖率</td>
<td>新代码的重复块</td>
<td>确认问题</td>
<td>坏味道</td>
<td>新增Bugs</td>
<td>新增漏洞</td>
<td>目录</td>
</tr>
<tr>
<td></td>
<td>分支覆盖率</td>
<td>重复文件</td>
<td>严重违规</td>
<td>达到可维护性A级所需的工作</td>
<td>可靠性修复工作</td>
<td>安全修复工作</td>
<td>文件</td>
</tr>
<tr>
<td></td>
<td>新分支覆盖率</td>
<td>重复行</td>
<td>误判问题</td>
<td>新增坏味道</td>
<td>新代码的可靠性修复工作</td>
<td>新代码的安全修复工作</td>
<td>方法</td>
</tr>
<tr>
<td></td>
<td>代码覆盖率</td>
<td>新代码的重复行</td>
<td>提示违规</td>
<td>技术债务</td>
<td>可靠性比率</td>
<td>漏洞</td>
<td>生成的行数</td>
</tr>
<tr>
<td></td>
<td>新代码覆盖率</td>
<td></td>
<td>主要违规</td>
<td>技术债务比率</td>
<td></td>
<td>安全审核等级</td>
<td>生成的代码行数</td>
</tr>
<tr>
<td></td>
<td>….等</td>
<td></td>
<td>….等</td>
<td>….等</td>
<td></td>
<td>….等</td>
<td>….等</td>
</tr>
</tbody></table>
<h2 id="该如何触发？"><a href="#该如何触发？" class="headerlink" title="该如何触发？"></a>该如何触发？</h2><h3 id="jenkins触发"><a href="#jenkins触发" class="headerlink" title="jenkins触发"></a>jenkins触发</h3><p>​	TODO</p>
<h3 id="git-ci触发"><a href="#git-ci触发" class="headerlink" title="git-ci触发"></a>git-ci触发</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">variables:</span><br>  <span class="hljs-attr">SONAR_TOKEN:</span> <span class="hljs-string">&quot;请替换你的token&quot;</span><br>  <span class="hljs-attr">SONAR_HOST_URL:</span> <span class="hljs-string">&quot;http://qa.leihuo.netease.com:9004&quot;</span><br>  <span class="hljs-attr">GIT_DEPTH:</span> <span class="hljs-number">0</span><br><br><span class="hljs-attr">stages:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">quality_inspection</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">quality_inspection_and_feedback</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">build_and_push</span><br><br><span class="hljs-comment">## 执行 SonarQube 分析，并将检测结果推送至 SonarQube</span><br><span class="hljs-attr">quality_inspection:</span><br>  <span class="hljs-attr">image:</span> <span class="hljs-string">maven:3.8.6-openjdk-8</span><br>  <span class="hljs-attr">stage:</span> <span class="hljs-string">quality_inspection</span><br>  <span class="hljs-attr">only:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br>  <span class="hljs-attr">script:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">mvn</span> <span class="hljs-string">--batch-mode</span> <span class="hljs-string">verify</span> <span class="hljs-string">sonar:sonar</span> <span class="hljs-string">-Dsonar.host.url=$SONAR_HOST_URL</span> <span class="hljs-string">-Dsonar.login=$SONAR_TOKEN</span><br>  <span class="hljs-attr">tags:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">sonarqube</span><br><br><span class="hljs-comment"># 执行 SonarQube 分析，并将检测结果反馈至 GitLab</span><br><span class="hljs-attr">quality_inspection_and_feedback:</span><br>  <span class="hljs-attr">stage:</span> <span class="hljs-string">quality_inspection_and_feedback</span><br>  <span class="hljs-attr">image:</span> <span class="hljs-string">maven:3.8.6-openjdk-8</span><br>  <span class="hljs-attr">only:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br>  <span class="hljs-attr">script:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">mvn</span> <span class="hljs-string">--batch-mode</span> <span class="hljs-string">verify</span> <span class="hljs-string">sonar:sonar</span> <span class="hljs-string">-Dsonar.host.url=$SONAR_HOST_URL</span> <span class="hljs-string">-Dsonar.login=$SONAR_TOKEN</span> <span class="hljs-string">-Dsonar.analysis.mode=preview</span> <span class="hljs-string">-Dsonar.gitlab.commit_sha=$CI_COMMIT_SHA</span> <span class="hljs-string">-Dsonar.gitlab.ref_name=$CI_COMMIT_REF_NAME</span> <span class="hljs-string">-Dsonar.gitlab.project_id=$CI_PROJECT_ID</span><br>  <span class="hljs-attr">tags:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">sonarqube</span><br><br><br><span class="hljs-comment"># 执行 SonarQube 分析，并将检测结果反馈至 GitLab</span><br><span class="hljs-attr">build_and_push:</span><br>  <span class="hljs-attr">stage:</span> <span class="hljs-string">build_and_push</span><br>  <span class="hljs-attr">image:</span> <span class="hljs-string">hub.fuxi.netease.com/qa-web/java-build:maven3-openjdk8-docker20</span><br>  <span class="hljs-attr">only:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br>  <span class="hljs-attr">script:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">mvn</span> <span class="hljs-string">clean</span> <span class="hljs-string">package</span> <span class="hljs-string">-Dmaven.test.skip=true</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">version=`date</span> <span class="hljs-string">+%Y.%m.%d.%H.%M`</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">docker</span> <span class="hljs-string">image</span> <span class="hljs-string">build</span> <span class="hljs-string">--build-arg</span> <span class="hljs-string">JAR_FILE=assistant-system-backend-starter/target/assistant-system-backend-web.jar</span> <span class="hljs-string">-f</span> <span class="hljs-string">DeprecatedDockerfile</span> <span class="hljs-string">-t</span> <span class="hljs-string">assistant-system-backend-server:$&#123;version&#125;</span> <span class="hljs-string">.</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">docker</span> <span class="hljs-string">tag</span> <span class="hljs-string">assistant-system-backend-server:$&#123;version&#125;</span> <span class="hljs-string">hub.fuxi.netease.com/qa-web/assistant-system-backend-server:$&#123;version&#125;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">docker</span> <span class="hljs-string">image</span> <span class="hljs-string">push</span> <span class="hljs-string">hub.fuxi.netease.com/qa-web/assistant-system-backend-server:$&#123;version&#125;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">curl</span> <span class="hljs-string">-X</span> <span class="hljs-string">POST</span>  <span class="hljs-string">-d</span> <span class="hljs-string">&quot;receiver=$&#123;GITLAB_USER_EMAIL&#125;&quot;</span> <span class="hljs-string">-d</span> <span class="hljs-string">&quot;msg=助理系统后端服务build结束等待发布$&#123;CI_COMMIT_MESSAGE&#125;&quot;</span>  <span class="hljs-string">&quot;http://qa.leihuo.netease.com:3316/popo_qatool&quot;</span><br>  <span class="hljs-attr">tags:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">java-build</span><br></code></pre></td></tr></table></figure>

<h3 id="sonarQube-scanner触发"><a href="#sonarQube-scanner触发" class="headerlink" title="sonarQube scanner触发"></a>sonarQube scanner触发</h3><h4 id="在sonarqube页面上创建项目"><a href="#在sonarqube页面上创建项目" class="headerlink" title="在sonarqube页面上创建项目"></a>在sonarqube页面上创建项目</h4><p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h784ql1a2qj31790u077e.jpg" srcset="/img/loading.gif" lazyload alt="在sonarqube页面上创建项目"></p>
<p>创建令牌 或者 使用已经有的令牌</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h784x0l894j31l80remzk.jpg" srcset="/img/loading.gif" lazyload alt="创建令牌 或者 使用已经有的令牌"></p>
<p>执行 sonarScanner 脚本</p>
<p><img src="https://tva1.sinaimg.cn/large/008vxvgGly1h784xsu8azj31dp0u0tbx.jpg" srcset="/img/loading.gif" lazyload alt="执行 sonarScanner 脚本"></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sonar-scanner \<br>  -Dsonar.<span class="hljs-attribute">projectKey</span>=file-api \<br>  -Dsonar.<span class="hljs-attribute">sources</span>=. \<br>  -Dsonar.host.<span class="hljs-attribute">url</span>=http://qa.leihuo.netease.com:9004 \<br>  -Dsonar.<span class="hljs-attribute">login</span>=请替换你的token \<br>  -Dsonar.scm.<span class="hljs-attribute">provider</span>=git<br></code></pre></td></tr></table></figure>

<h3 id="触发异常"><a href="#触发异常" class="headerlink" title="触发异常"></a>触发异常</h3><ol>
<li>Please use “sonar.scm.provider” to define SCM of your project. 完整报错如下</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh">ERROR: Error during SonarQube Scanner execution<br>ERROR: SCM provider autodetection failed. Both svn and git claim to support this project. Please use <span class="hljs-string">&quot;sonar.scm.provider&quot;</span> to define SCM of your project.<br>ERROR:<br>ERROR: Re-run SonarQube Scanner using the -X switch to <span class="hljs-built_in">enable</span> full debug logging.\<br></code></pre></td></tr></table></figure>

<ol start="2">
<li><p>org.sonar.java.AnalysisException: Please provide compiled classes of your project with sonar.java.binaries property</p>
<p>TODO</p>
</li>
</ol>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>喝水不忘挖井人，感谢一下以下各位up主的无私奉献，帮助我更快地能够将sonar部署完成！</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/7tiny/p/11269774.html">SonarQube系列一、Linux安装与部署</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/gw5205566/article/details/103387117">SonarQube - 中文插件安装</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Zhang_Jackson/article/details/87969174">pmd3.0.0集成p3c</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/magicpenta/article/details/106880267">基于 GitLab+SonarQube 搭建自动化代码检测平台</a></li>
<li><a target="_blank" rel="noopener" href="https://kms.netease.com/article/36294#5sonarqube_%E4%BB%A3%E7%A0%81">SonarQube平台使用说明</a></li>
<li><a target="_blank" rel="noopener" href="https://www.sonarqube.org/">官方文档</a></li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E9%83%A8%E7%BD%B2%E6%95%99%E7%A8%8B/">部署教程</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E5%8E%9F%E5%88%9B/">原创</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/10/14/Spring%E7%9B%91%E6%8E%A7%E8%B0%83%E7%A0%94/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Prometheus+Grafana部署教程</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/10/10/feign%E5%BC%95%E5%85%A5%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">
                        <span class="hidden-mobile">feign引入过程中遇到的问题</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                

              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>












  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
